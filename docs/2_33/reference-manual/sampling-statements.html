<!DOCTYPE html>
<html lang="" xml:lang="">
<head>
<link rel="canonical" href="https://mc-stan.org/docs/reference-manual/statements.html#sampling-statements.section" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7.4 Sampling statements | Stan Reference Manual</title>
  <meta name="description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language." />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="7.4 Sampling statements | Stan Reference Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/img/logo_tm.png" />
  <meta property="og:description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.4 Sampling statements | Stan Reference Manual" />
  
  <meta name="twitter:description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language." />
  <meta name="twitter:image" content="/img/logo_tm.png" />

<meta name="author" content="Stan Development Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="increment-log-prob.html"/>
<link rel="next" href="for-loops.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="../stan-manual.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="font-size:110%; font-weight:400; font-family: Verdana, Helvetica, sans; line-height:1.4; margin: 0.5em 0 0 1em"><a href="https://mc-stan.org/docs/reference-manual/index.html" style="color:#4183C4">Stan Reference Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><i style="font-size: 110%; padding:1.5em 0 0 0; color:#990017;">Overview</i></a></li>
<li class="chapter" data-level="" data-path="language.html"><a href="language.html"><i class="fa fa-check"></i><i style="font-size: 110%; color:#990017;">Language</i></a></li>
<li class="chapter" data-level="1" data-path="character-encoding.html"><a href="character-encoding.html"><i class="fa fa-check"></i><b>1</b> Character Encoding</a>
<ul>
<li class="chapter" data-level="1.1" data-path="content-characters.html"><a href="content-characters.html"><i class="fa fa-check"></i><b>1.1</b> Content characters</a>
<ul>
<li class="chapter" data-level="" data-path="content-characters.html"><a href="content-characters.html#compatibility-with-latin-1-and-utf-8"><i class="fa fa-check"></i>Compatibility with Latin-1 and UTF-8</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="comment-characters.html"><a href="comment-characters.html"><i class="fa fa-check"></i><b>1.2</b> Comment characters</a></li>
<li class="chapter" data-level="1.3" data-path="string-literals.html"><a href="string-literals.html"><i class="fa fa-check"></i><b>1.3</b> String literals</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="includes.html"><a href="includes.html"><i class="fa fa-check"></i><b>2</b> Includes</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="includes.html"><a href="includes.html#space-before-includes"><i class="fa fa-check"></i><b>2.0.1</b> Space before includes</a></li>
<li class="chapter" data-level="2.0.2" data-path="includes.html"><a href="includes.html#comments-after-includes"><i class="fa fa-check"></i><b>2.0.2</b> Comments after includes</a></li>
<li class="chapter" data-level="2.1" data-path="recursive-includes.html"><a href="recursive-includes.html"><i class="fa fa-check"></i><b>2.1</b> Recursive includes</a></li>
<li class="chapter" data-level="2.2" data-path="include-paths.html"><a href="include-paths.html"><i class="fa fa-check"></i><b>2.2</b> Include paths</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="include-paths.html"><a href="include-paths.html#slashes-in-include-paths"><i class="fa fa-check"></i><b>2.2.1</b> Slashes in include paths</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="comments.html"><a href="comments.html"><i class="fa fa-check"></i><b>3</b> Comments</a>
<ul>
<li class="chapter" data-level="3.1" data-path="line-based-comments.html"><a href="line-based-comments.html"><i class="fa fa-check"></i><b>3.1</b> Line-based comments</a></li>
<li class="chapter" data-level="3.2" data-path="bracketed-comments.html"><a href="bracketed-comments.html"><i class="fa fa-check"></i><b>3.2</b> Bracketed comments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="whitespace.html"><a href="whitespace.html"><i class="fa fa-check"></i><b>4</b> Whitespace</a>
<ul>
<li class="chapter" data-level="4.1" data-path="whitespace-characters.html"><a href="whitespace-characters.html"><i class="fa fa-check"></i><b>4.1</b> Whitespace characters</a></li>
<li class="chapter" data-level="4.2" data-path="whitespace-neutrality.html"><a href="whitespace-neutrality.html"><i class="fa fa-check"></i><b>4.2</b> Whitespace neutrality</a></li>
<li class="chapter" data-level="4.3" data-path="whitespace-location.html"><a href="whitespace-location.html"><i class="fa fa-check"></i><b>4.3</b> Whitespace location</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>5</b> Data Types and Declarations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html"><i class="fa fa-check"></i><b>5.1</b> Overview of data types</a>
<ul>
<li class="chapter" data-level="" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#primitive-types"><i class="fa fa-check"></i>Primitive types</a></li>
<li class="chapter" data-level="" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#complex-types"><i class="fa fa-check"></i>Complex types</a></li>
<li class="chapter" data-level="" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#vector-and-matrix-types"><i class="fa fa-check"></i>Vector and matrix types</a></li>
<li class="chapter" data-level="" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#array-types"><i class="fa fa-check"></i>Array types</a></li>
<li class="chapter" data-level="5.1.1" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#tuple-types"><i class="fa fa-check"></i><b>5.1.1</b> Tuple types</a></li>
<li class="chapter" data-level="" data-path="overview-of-data-types.html"><a href="overview-of-data-types.html#constrained-data-types"><i class="fa fa-check"></i>Constrained data types</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="numerical-data-types.html"><a href="numerical-data-types.html"><i class="fa fa-check"></i><b>5.2</b> Primitive numerical data types</a>
<ul>
<li class="chapter" data-level="" data-path="numerical-data-types.html"><a href="numerical-data-types.html#integers"><i class="fa fa-check"></i>Integers</a></li>
<li class="chapter" data-level="" data-path="numerical-data-types.html"><a href="numerical-data-types.html#reals"><i class="fa fa-check"></i>Reals</a></li>
<li class="chapter" data-level="" data-path="numerical-data-types.html"><a href="numerical-data-types.html#promoting-integers-to-reals"><i class="fa fa-check"></i>Promoting integers to reals</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="complex-numerical-data-type.html"><a href="complex-numerical-data-type.html"><i class="fa fa-check"></i><b>5.3</b> Complex numerical data type</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="complex-numerical-data-type.html"><a href="complex-numerical-data-type.html#constructing-and-accessing-complex-numbers"><i class="fa fa-check"></i><b>5.3.1</b> Constructing and accessing complex numbers</a></li>
<li class="chapter" data-level="5.3.2" data-path="complex-numerical-data-type.html"><a href="complex-numerical-data-type.html#promoting-real-to-complex"><i class="fa fa-check"></i><b>5.3.2</b> Promoting real to complex</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html"><i class="fa fa-check"></i><b>5.4</b> Scalar data types and variable declarations</a>
<ul>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#unconstrained-integer"><i class="fa fa-check"></i>Unconstrained integer</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#constrained-integer"><i class="fa fa-check"></i>Constrained integer</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#unconstrained-real"><i class="fa fa-check"></i>Unconstrained real</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#unconstrained-complex"><i class="fa fa-check"></i>Unconstrained complex</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#constrained-real"><i class="fa fa-check"></i>Constrained real</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#affinely-transformed-real"><i class="fa fa-check"></i>Affinely transformed real</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#expressions-as-bounds-and-offsetmultiplier"><i class="fa fa-check"></i>Expressions as bounds and offset/multiplier</a></li>
<li class="chapter" data-level="" data-path="scalar-data-types-and-variable-declarations.html"><a href="scalar-data-types-and-variable-declarations.html#declaring-optional-variables"><i class="fa fa-check"></i>Declaring optional variables</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html"><i class="fa fa-check"></i><b>5.5</b> Vector and matrix data types</a>
<ul>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#indexing-from-1"><i class="fa fa-check"></i>Indexing from 1</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#complex-vectors"><i class="fa fa-check"></i>Complex vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#unit-simplexes"><i class="fa fa-check"></i>Unit simplexes</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#unit-vectors"><i class="fa fa-check"></i>Unit vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#ordered-vectors"><i class="fa fa-check"></i>Ordered vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#positive-ordered-vectors"><i class="fa fa-check"></i>Positive, ordered vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#row-vectors"><i class="fa fa-check"></i>Row vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#complex-row-vectors"><i class="fa fa-check"></i>Complex row vectors</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#complex-matrices"><i class="fa fa-check"></i>Complex matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#covariance-matrices"><i class="fa fa-check"></i>Covariance matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#correlation-matrices"><i class="fa fa-check"></i>Correlation matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#cholesky-factors-of-covariance-matrices"><i class="fa fa-check"></i>Cholesky factors of covariance matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#cholesky-factors-of-correlation-matrices"><i class="fa fa-check"></i>Cholesky factors of correlation matrices</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#assigning-constrained-variables"><i class="fa fa-check"></i>Assigning constrained variables</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#promoting-real-to-complex-matrixes"><i class="fa fa-check"></i>Promoting real to complex matrixes</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#expressions-as-size-declarations"><i class="fa fa-check"></i>Expressions as size declarations</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#accessing-vector-and-matrix-elements"><i class="fa fa-check"></i>Accessing vector and matrix elements</a></li>
<li class="chapter" data-level="" data-path="vector-and-matrix-data-types.html"><a href="vector-and-matrix-data-types.html#size-declaration-restrictions"><i class="fa fa-check"></i>Size declaration restrictions</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="array-data-types.html"><a href="array-data-types.html"><i class="fa fa-check"></i><b>5.6</b> Array data types</a>
<ul>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#declaring-array-variables"><i class="fa fa-check"></i>Declaring array variables</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#accessing-array-elements-and-subarrays"><i class="fa fa-check"></i>Accessing array elements and subarrays</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#assigning"><i class="fa fa-check"></i>Assigning</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#arrays-of-matrices-and-vectors"><i class="fa fa-check"></i>Arrays of matrices and vectors</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#partial-array-assignment"><i class="fa fa-check"></i>Partial array assignment</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#mixing-array-vector-and-matrix-types"><i class="fa fa-check"></i>Mixing array, vector, and matrix types</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#size-declaration-restrictions-1"><i class="fa fa-check"></i>Size declaration restrictions</a></li>
<li class="chapter" data-level="" data-path="array-data-types.html"><a href="array-data-types.html#size-zero-arrays"><i class="fa fa-check"></i>Size zero arrays</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="tuple-data-type.html"><a href="tuple-data-type.html"><i class="fa fa-check"></i><b>5.7</b> Tuple data type</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="tuple-data-type.html"><a href="tuple-data-type.html#declaring-tuple-variables"><i class="fa fa-check"></i><b>5.7.1</b> Declaring tuple variables</a></li>
<li class="chapter" data-level="5.7.2" data-path="tuple-data-type.html"><a href="tuple-data-type.html#accessing-tuple-elements"><i class="fa fa-check"></i><b>5.7.2</b> Accessing tuple elements</a></li>
<li class="chapter" data-level="5.7.3" data-path="tuple-data-type.html"><a href="tuple-data-type.html#assigning-tuple-elements"><i class="fa fa-check"></i><b>5.7.3</b> Assigning tuple elements</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="variable-types-vs.-constraints-and-sizes.html"><a href="variable-types-vs.-constraints-and-sizes.html"><i class="fa fa-check"></i><b>5.8</b> Variable types vs. constraints and sizes</a>
<ul>
<li class="chapter" data-level="" data-path="variable-types-vs.-constraints-and-sizes.html"><a href="variable-types-vs.-constraints-and-sizes.html#type-information-excludes-sizes"><i class="fa fa-check"></i>Type information excludes sizes</a></li>
<li class="chapter" data-level="" data-path="variable-types-vs.-constraints-and-sizes.html"><a href="variable-types-vs.-constraints-and-sizes.html#type-information-excludes-constraints"><i class="fa fa-check"></i>Type information excludes constraints</a></li>
<li class="chapter" data-level="" data-path="variable-types-vs.-constraints-and-sizes.html"><a href="variable-types-vs.-constraints-and-sizes.html#type-naming-notation"><i class="fa fa-check"></i>Type naming notation</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="variable-declaration.html"><a href="variable-declaration.html"><i class="fa fa-check"></i><b>5.9</b> Variable declaration</a></li>
<li class="chapter" data-level="5.10" data-path="compound-variable-declaration-and-definition.html"><a href="compound-variable-declaration-and-definition.html"><i class="fa fa-check"></i><b>5.10</b> Compound variable declaration and definition</a>
<ul>
<li class="chapter" data-level="" data-path="compound-variable-declaration-and-definition.html"><a href="compound-variable-declaration-and-definition.html#assignment-typing"><i class="fa fa-check"></i>Assignment typing</a></li>
<li class="chapter" data-level="" data-path="compound-variable-declaration-and-definition.html"><a href="compound-variable-declaration-and-definition.html#right-hand-side-expressions"><i class="fa fa-check"></i>Right-hand side expressions</a></li>
<li class="chapter" data-level="" data-path="compound-variable-declaration-and-definition.html"><a href="compound-variable-declaration-and-definition.html#scope-within-expressions"><i class="fa fa-check"></i>Scope within expressions</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="declaring-multiple-variables-at-once.html"><a href="declaring-multiple-variables-at-once.html"><i class="fa fa-check"></i><b>5.11</b> Declaring multiple variables at once</a>
<ul>
<li class="chapter" data-level="" data-path="declaring-multiple-variables-at-once.html"><a href="declaring-multiple-variables-at-once.html#types-for-multiple-declarations"><i class="fa fa-check"></i>Types for multiple declarations</a></li>
<li class="chapter" data-level="" data-path="declaring-multiple-variables-at-once.html"><a href="declaring-multiple-variables-at-once.html#combining-with-other-features"><i class="fa fa-check"></i>Combining with other features</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="expressions.html"><a href="expressions.html"><i class="fa fa-check"></i><b>6</b> Expressions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="numeric-literals.html"><a href="numeric-literals.html"><i class="fa fa-check"></i><b>6.1</b> Numeric literals</a>
<ul>
<li class="chapter" data-level="" data-path="numeric-literals.html"><a href="numeric-literals.html#integer-literals"><i class="fa fa-check"></i>Integer literals</a></li>
<li class="chapter" data-level="" data-path="numeric-literals.html"><a href="numeric-literals.html#real-literals"><i class="fa fa-check"></i>Real literals</a></li>
<li class="chapter" data-level="" data-path="numeric-literals.html"><a href="numeric-literals.html#imaginary-literals"><i class="fa fa-check"></i>Imaginary literals</a></li>
<li class="chapter" data-level="" data-path="numeric-literals.html"><a href="numeric-literals.html#complex-literals"><i class="fa fa-check"></i>Complex literals</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="variables.html"><a href="variables.html"><i class="fa fa-check"></i><b>6.2</b> Variables</a>
<ul>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#reserved-names"><i class="fa fa-check"></i>Reserved names</a></li>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#legal-characters"><i class="fa fa-check"></i>Legal characters</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html"><i class="fa fa-check"></i><b>6.3</b> Container expressions</a>
<ul>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#vector-expressions"><i class="fa fa-check"></i>Vector expressions</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#matrix-expressions"><i class="fa fa-check"></i>Matrix expressions</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#complex-vector-and-matrix-expressions"><i class="fa fa-check"></i>Complex vector and matrix expressions</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#array-expressions"><i class="fa fa-check"></i>Array expressions</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#array-expression-types"><i class="fa fa-check"></i>Array expression types</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#tuple-expressions-and-types"><i class="fa fa-check"></i>Tuple expressions and types</a></li>
<li class="chapter" data-level="" data-path="vector-matrix-array-expressions.html"><a href="vector-matrix-array-expressions.html#restrictions-on-values"><i class="fa fa-check"></i>Restrictions on values</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="parentheses-for-grouping.html"><a href="parentheses-for-grouping.html"><i class="fa fa-check"></i><b>6.4</b> Parentheses for grouping</a></li>
<li class="chapter" data-level="6.5" data-path="arithmetic-expressions.html"><a href="arithmetic-expressions.html"><i class="fa fa-check"></i><b>6.5</b> Arithmetic and matrix operations on expressions</a>
<ul>
<li class="chapter" data-level="" data-path="arithmetic-expressions.html"><a href="arithmetic-expressions.html#operator-precedence-and-associativity"><i class="fa fa-check"></i>Operator precedence and associativity</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="conditional-operator.html"><a href="conditional-operator.html"><i class="fa fa-check"></i><b>6.6</b> Conditional operator</a>
<ul>
<li class="chapter" data-level="" data-path="conditional-operator.html"><a href="conditional-operator.html#conditional-operator-syntax"><i class="fa fa-check"></i>Conditional operator syntax</a></li>
<li class="chapter" data-level="" data-path="conditional-operator.html"><a href="conditional-operator.html#conditional-operator-semantics"><i class="fa fa-check"></i>Conditional operator semantics</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="language-indexing.html"><a href="language-indexing.html"><i class="fa fa-check"></i><b>6.7</b> Indexing</a>
<ul>
<li class="chapter" data-level="" data-path="language-indexing.html"><a href="language-indexing.html#accessing-subarrays"><i class="fa fa-check"></i>Accessing subarrays</a></li>
<li class="chapter" data-level="" data-path="language-indexing.html"><a href="language-indexing.html#accessing-matrix-rows"><i class="fa fa-check"></i>Accessing matrix rows</a></li>
<li class="chapter" data-level="" data-path="language-indexing.html"><a href="language-indexing.html#mixing-array-and-vectormatrix-indexes"><i class="fa fa-check"></i>Mixing array and vector/matrix indexes</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="language-multi-indexing.html"><a href="language-multi-indexing.html"><i class="fa fa-check"></i><b>6.8</b> Multiple indexing and range indexing</a>
<ul>
<li class="chapter" data-level="" data-path="language-multi-indexing.html"><a href="language-multi-indexing.html#multiple-index-semantics"><i class="fa fa-check"></i>Multiple index semantics</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="function-application.html"><a href="function-application.html"><i class="fa fa-check"></i><b>6.9</b> Function application</a>
<ul>
<li class="chapter" data-level="" data-path="function-application.html"><a href="function-application.html#type-signatures-and-result-type-inference"><i class="fa fa-check"></i>Type signatures and result type inference</a></li>
<li class="chapter" data-level="" data-path="function-application.html"><a href="function-application.html#constants"><i class="fa fa-check"></i>Constants</a></li>
<li class="chapter" data-level="" data-path="function-application.html"><a href="function-application.html#type-promotion-and-function-resolution"><i class="fa fa-check"></i>Type promotion and function resolution</a></li>
<li class="chapter" data-level="" data-path="function-application.html"><a href="function-application.html#random-number-generating-functions"><i class="fa fa-check"></i>Random-number generating functions</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="type-inference.html"><a href="type-inference.html"><i class="fa fa-check"></i><b>6.10</b> Type inference</a>
<ul>
<li class="chapter" data-level="" data-path="type-inference.html"><a href="type-inference.html#implementation-types"><i class="fa fa-check"></i>Implementation types</a></li>
<li class="chapter" data-level="" data-path="type-inference.html"><a href="type-inference.html#type-inference-rules"><i class="fa fa-check"></i>Type inference rules</a></li>
<li class="chapter" data-level="6.10.1" data-path="type-inference.html"><a href="type-inference.html#promotion"><i class="fa fa-check"></i><b>6.10.1</b> Promotion</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="higher-order-functions.html"><a href="higher-order-functions.html"><i class="fa fa-check"></i><b>6.11</b> Higher-order functions</a>
<ul>
<li class="chapter" data-level="" data-path="higher-order-functions.html"><a href="higher-order-functions.html#functions-passed-by-reference"><i class="fa fa-check"></i>Functions passed by reference</a></li>
<li class="chapter" data-level="" data-path="higher-order-functions.html"><a href="higher-order-functions.html#data-restricted-arguments"><i class="fa fa-check"></i>Data-restricted arguments</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="chain-rule-and-derivatives.html"><a href="chain-rule-and-derivatives.html"><i class="fa fa-check"></i><b>6.12</b> Chain rule and derivatives</a>
<ul>
<li class="chapter" data-level="" data-path="chain-rule-and-derivatives.html"><a href="chain-rule-and-derivatives.html#errors-due-to-chain-rule"><i class="fa fa-check"></i>Errors due to chain rule</a></li>
<li class="chapter" data-level="" data-path="chain-rule-and-derivatives.html"><a href="chain-rule-and-derivatives.html#diagnosing-problems-with-derivatives"><i class="fa fa-check"></i>Diagnosing problems with derivatives</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statements.html"><a href="statements.html"><i class="fa fa-check"></i><b>7</b> Statements</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statement-block-contexts.html"><a href="statement-block-contexts.html"><i class="fa fa-check"></i><b>7.1</b> Statement block contexts</a></li>
<li class="chapter" data-level="7.2" data-path="assignment-statement.html"><a href="assignment-statement.html"><i class="fa fa-check"></i><b>7.2</b> Assignment statements</a>
<ul>
<li class="chapter" data-level="" data-path="assignment-statement.html"><a href="assignment-statement.html#promotion-1"><i class="fa fa-check"></i>Promotion</a></li>
<li class="chapter" data-level="" data-path="assignment-statement.html"><a href="assignment-statement.html#lvalue-summary"><i class="fa fa-check"></i>Lvalue summary</a></li>
<li class="chapter" data-level="" data-path="assignment-statement.html"><a href="assignment-statement.html#multiple-indexes"><i class="fa fa-check"></i>Multiple indexes</a></li>
<li class="chapter" data-level="" data-path="assignment-statement.html"><a href="assignment-statement.html#compound-arithmetic-and-assignment-statement"><i class="fa fa-check"></i>Compound arithmetic and assignment statement</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="increment-log-prob.html"><a href="increment-log-prob.html"><i class="fa fa-check"></i><b>7.3</b> Increment log density</a>
<ul>
<li class="chapter" data-level="" data-path="increment-log-prob.html"><a href="increment-log-prob.html#accessing-the-log-density"><i class="fa fa-check"></i>Accessing the log density</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="sampling-statements.html"><a href="sampling-statements.html"><i class="fa fa-check"></i><b>7.4</b> Sampling statements</a>
<ul>
<li class="chapter" data-level="" data-path="sampling-statements.html"><a href="sampling-statements.html#log-probability-increment-vs.-sampling-statement"><i class="fa fa-check"></i>Log probability increment vs. sampling statement</a></li>
<li class="chapter" data-level="" data-path="sampling-statements.html"><a href="sampling-statements.html#user-transformed-variables"><i class="fa fa-check"></i>User-transformed variables</a></li>
<li class="chapter" data-level="" data-path="sampling-statements.html"><a href="sampling-statements.html#truncated-distributions"><i class="fa fa-check"></i>Truncated distributions</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>7.5</b> For loops</a>
<ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#loop-variable-typing-and-scope"><i class="fa fa-check"></i>Loop variable typing and scope</a></li>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#order-sensitivity-and-repeated-variables"><i class="fa fa-check"></i>Order sensitivity and repeated variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="foreach-loops.html"><a href="foreach-loops.html"><i class="fa fa-check"></i><b>7.6</b> Foreach loops</a></li>
<li class="chapter" data-level="7.7" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>7.7</b> Conditional statements</a></li>
<li class="chapter" data-level="7.8" data-path="while-statements.html"><a href="while-statements.html"><i class="fa fa-check"></i><b>7.8</b> While statements</a></li>
<li class="chapter" data-level="7.9" data-path="statement-blocks-and-local-variable-declarations.html"><a href="statement-blocks-and-local-variable-declarations.html"><i class="fa fa-check"></i><b>7.9</b> Statement blocks and local variable declarations</a>
<ul>
<li class="chapter" data-level="" data-path="statement-blocks-and-local-variable-declarations.html"><a href="statement-blocks-and-local-variable-declarations.html#blocks-in-for-loops"><i class="fa fa-check"></i>Blocks in for loops</a></li>
<li class="chapter" data-level="" data-path="statement-blocks-and-local-variable-declarations.html"><a href="statement-blocks-and-local-variable-declarations.html#local-variable-declarations"><i class="fa fa-check"></i>Local variable declarations</a></li>
<li class="chapter" data-level="" data-path="statement-blocks-and-local-variable-declarations.html"><a href="statement-blocks-and-local-variable-declarations.html#no-constraints-on-local-variables"><i class="fa fa-check"></i>No constraints on local variables</a></li>
<li class="chapter" data-level="" data-path="statement-blocks-and-local-variable-declarations.html"><a href="statement-blocks-and-local-variable-declarations.html#blocks-within-blocks"><i class="fa fa-check"></i>Blocks within blocks</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="break-and-continue-statements.html"><a href="break-and-continue-statements.html"><i class="fa fa-check"></i><b>7.10</b> Break and continue statements <a id="break-continue-statements"></a></a>
<ul>
<li class="chapter" data-level="" data-path="break-and-continue-statements.html"><a href="break-and-continue-statements.html#break-statements"><i class="fa fa-check"></i>Break statements</a></li>
<li class="chapter" data-level="" data-path="break-and-continue-statements.html"><a href="break-and-continue-statements.html#continue-statements"><i class="fa fa-check"></i>Continue statements</a></li>
<li class="chapter" data-level="" data-path="break-and-continue-statements.html"><a href="break-and-continue-statements.html#breaking-and-continuing-nested-loops"><i class="fa fa-check"></i>Breaking and continuing nested loops</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="print-statements.html"><a href="print-statements.html"><i class="fa fa-check"></i><b>7.11</b> Print statements</a>
<ul>
<li class="chapter" data-level="" data-path="print-statements.html"><a href="print-statements.html#print-content"><i class="fa fa-check"></i>Print content</a></li>
<li class="chapter" data-level="" data-path="print-statements.html"><a href="print-statements.html#non-void-input"><i class="fa fa-check"></i>Non-void input</a></li>
<li class="chapter" data-level="" data-path="print-statements.html"><a href="print-statements.html#print-frequency"><i class="fa fa-check"></i>Print frequency</a></li>
<li class="chapter" data-level="" data-path="print-statements.html"><a href="print-statements.html#string-literals-1"><i class="fa fa-check"></i>String literals</a></li>
<li class="chapter" data-level="" data-path="print-statements.html"><a href="print-statements.html#debug-by-print"><i class="fa fa-check"></i>Debug by <code>print</code></a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="reject-statements.html"><a href="reject-statements.html"><i class="fa fa-check"></i><b>7.12</b> Reject statements</a>
<ul>
<li class="chapter" data-level="" data-path="reject-statements.html"><a href="reject-statements.html#behavior-of-reject-statements"><i class="fa fa-check"></i>Behavior of reject statements</a></li>
<li class="chapter" data-level="" data-path="reject-statements.html"><a href="reject-statements.html#rejection-is-not-for-constraints"><i class="fa fa-check"></i>Rejection is not for constraints</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>8</b> Program Blocks</a>
<ul>
<li class="chapter" data-level="8.1" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html"><i class="fa fa-check"></i><b>8.1</b> Overview of Stan’s program blocks</a>
<ul>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#optionality-and-ordering"><i class="fa fa-check"></i>Optionality and ordering</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#variable-scope"><i class="fa fa-check"></i>Variable scope</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#function-scope"><i class="fa fa-check"></i>Function scope</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#automatic-variable-definitions"><i class="fa fa-check"></i>Automatic variable definitions</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#transformed-variables"><i class="fa fa-check"></i>Transformed variables</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#generated-quantities"><i class="fa fa-check"></i>Generated quantities</a></li>
<li class="chapter" data-level="" data-path="overview-of-stans-program-blocks.html"><a href="overview-of-stans-program-blocks.html#variable-read-write-and-definition-summary"><i class="fa fa-check"></i>Variable read, write, and definition summary</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="statistical-variable-taxonomy.html"><a href="statistical-variable-taxonomy.html"><i class="fa fa-check"></i><b>8.2</b> Statistical variable taxonomy</a></li>
<li class="chapter" data-level="8.3" data-path="program-block-data.html"><a href="program-block-data.html"><i class="fa fa-check"></i><b>8.3</b> Program block: <code>data</code></a>
<ul>
<li class="chapter" data-level="" data-path="program-block-data.html"><a href="program-block-data.html#variable-reads-and-transformations"><i class="fa fa-check"></i>Variable reads and transformations</a></li>
<li class="chapter" data-level="" data-path="program-block-data.html"><a href="program-block-data.html#statements-1"><i class="fa fa-check"></i>Statements</a></li>
<li class="chapter" data-level="" data-path="program-block-data.html"><a href="program-block-data.html#variable-constraint-checking"><i class="fa fa-check"></i>Variable constraint checking</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="program-block-transformed-data.html"><a href="program-block-transformed-data.html"><i class="fa fa-check"></i><b>8.4</b> Program block: <code>transformed data</code></a>
<ul>
<li class="chapter" data-level="" data-path="program-block-transformed-data.html"><a href="program-block-transformed-data.html#variable-reads-and-transformations-1"><i class="fa fa-check"></i>Variable reads and transformations</a></li>
<li class="chapter" data-level="" data-path="program-block-transformed-data.html"><a href="program-block-transformed-data.html#statements-2"><i class="fa fa-check"></i>Statements</a></li>
<li class="chapter" data-level="" data-path="program-block-transformed-data.html"><a href="program-block-transformed-data.html#variable-constraint-checking-1"><i class="fa fa-check"></i>Variable constraint checking</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="program-block-parameters.html"><a href="program-block-parameters.html"><i class="fa fa-check"></i><b>8.5</b> Program block: <code>parameters</code></a>
<ul>
<li class="chapter" data-level="" data-path="program-block-parameters.html"><a href="program-block-parameters.html#constraining-inverse-transform"><i class="fa fa-check"></i>Constraining inverse transform</a></li>
<li class="chapter" data-level="" data-path="program-block-parameters.html"><a href="program-block-parameters.html#gradient-calculation"><i class="fa fa-check"></i>Gradient calculation</a></li>
<li class="chapter" data-level="" data-path="program-block-parameters.html"><a href="program-block-parameters.html#writing-draws"><i class="fa fa-check"></i>Writing draws</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="program-block-transformed-parameters.html"><a href="program-block-transformed-parameters.html"><i class="fa fa-check"></i><b>8.6</b> Program block: <code>transformed parameters</code></a>
<ul>
<li class="chapter" data-level="" data-path="program-block-transformed-parameters.html"><a href="program-block-transformed-parameters.html#constraints-are-for-error-checking"><i class="fa fa-check"></i>Constraints are for error checking</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="program-block-model.html"><a href="program-block-model.html"><i class="fa fa-check"></i><b>8.7</b> Program block: <code>model</code></a></li>
<li class="chapter" data-level="8.8" data-path="program-block-generated-quantities.html"><a href="program-block-generated-quantities.html"><i class="fa fa-check"></i><b>8.8</b> Program block: <code>generated quantities</code></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>9</b> User-Defined Functions</a>
<ul>
<li class="chapter" data-level="9.1" data-path="function-definition-block.html"><a href="function-definition-block.html"><i class="fa fa-check"></i><b>9.1</b> Function-definition block</a></li>
<li class="chapter" data-level="9.2" data-path="function-names.html"><a href="function-names.html"><i class="fa fa-check"></i><b>9.2</b> Function names</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="function-names.html"><a href="function-names.html#function-overloading"><i class="fa fa-check"></i><b>9.2.1</b> Function overloading</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>9.3</b> Calling functions</a>
<ul>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#functions-as-expressions"><i class="fa fa-check"></i>Functions as expressions</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#functions-as-statements"><i class="fa fa-check"></i>Functions as statements</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#resolving-overloads"><i class="fa fa-check"></i>Resolving overloads</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#argument-promotion"><i class="fa fa-check"></i>Argument promotion</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#probability-functions-in-sampling-statements"><i class="fa fa-check"></i>Probability functions in sampling statements</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#restrictions-on-placement"><i class="fa fa-check"></i>Restrictions on placement</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="argument-types-and-qualifiers.html"><a href="argument-types-and-qualifiers.html"><i class="fa fa-check"></i><b>9.4</b> Argument types and qualifiers</a>
<ul>
<li class="chapter" data-level="" data-path="argument-types-and-qualifiers.html"><a href="argument-types-and-qualifiers.html#base-variable-type-declaration"><i class="fa fa-check"></i>Base variable type declaration</a></li>
<li class="chapter" data-level="" data-path="argument-types-and-qualifiers.html"><a href="argument-types-and-qualifiers.html#dimensionality-declaration"><i class="fa fa-check"></i>Dimensionality declaration</a></li>
<li class="chapter" data-level="" data-path="argument-types-and-qualifiers.html"><a href="argument-types-and-qualifiers.html#dimensionality-checks-and-exceptions"><i class="fa fa-check"></i>Dimensionality checks and exceptions</a></li>
<li class="chapter" data-level="" data-path="argument-types-and-qualifiers.html"><a href="argument-types-and-qualifiers.html#data-only-qualifiers"><i class="fa fa-check"></i>Data-only qualifiers</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="function-bodies.html"><a href="function-bodies.html"><i class="fa fa-check"></i><b>9.5</b> Function bodies</a>
<ul>
<li class="chapter" data-level="" data-path="function-bodies.html"><a href="function-bodies.html#random-number-generating-functions-1"><i class="fa fa-check"></i>Random number generating functions</a></li>
<li class="chapter" data-level="" data-path="function-bodies.html"><a href="function-bodies.html#log-probability-access-in-functions"><i class="fa fa-check"></i>Log probability access in functions</a></li>
<li class="chapter" data-level="" data-path="function-bodies.html"><a href="function-bodies.html#defining-probability-functions-for-sampling-statements"><i class="fa fa-check"></i>Defining probability functions for sampling statements</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="parameters-are-constant.html"><a href="parameters-are-constant.html"><i class="fa fa-check"></i><b>9.6</b> Parameters are constant</a></li>
<li class="chapter" data-level="9.7" data-path="return-value.html"><a href="return-value.html"><i class="fa fa-check"></i><b>9.7</b> Return value</a>
<ul>
<li class="chapter" data-level="" data-path="return-value.html"><a href="return-value.html#return-guarantee-required"><i class="fa fa-check"></i>Return guarantee required</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="void-functions-as-statements.html"><a href="void-functions-as-statements.html"><i class="fa fa-check"></i><b>9.8</b> Void Functions as Statements</a>
<ul>
<li class="chapter" data-level="" data-path="void-functions-as-statements.html"><a href="void-functions-as-statements.html#void-functions"><i class="fa fa-check"></i>Void functions</a></li>
<li class="chapter" data-level="" data-path="void-functions-as-statements.html"><a href="void-functions-as-statements.html#usage-as-statement"><i class="fa fa-check"></i>Usage as statement</a></li>
<li class="chapter" data-level="" data-path="void-functions-as-statements.html"><a href="void-functions-as-statements.html#special-return-statements"><i class="fa fa-check"></i>Special return statements</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="forward-declarations.html"><a href="forward-declarations.html"><i class="fa fa-check"></i><b>9.9</b> Declarations</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="variable-transforms.html"><a href="variable-transforms.html"><i class="fa fa-check"></i><b>10</b> Constraint Transforms</a>
<ul>
<li class="chapter" data-level="10.1" data-path="change-of-variables.html"><a href="change-of-variables.html"><i class="fa fa-check"></i><b>10.1</b> Changes of variables</a>
<ul>
<li class="chapter" data-level="" data-path="change-of-variables.html"><a href="change-of-variables.html#univariate-changes-of-variables"><i class="fa fa-check"></i>Univariate changes of variables</a></li>
<li class="chapter" data-level="" data-path="change-of-variables.html"><a href="change-of-variables.html#multivariate-changes-of-variables"><i class="fa fa-check"></i>Multivariate changes of variables</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="lower-bound-transform.html"><a href="lower-bound-transform.html"><i class="fa fa-check"></i><b>10.2</b> Lower bounded scalar</a>
<ul>
<li class="chapter" data-level="" data-path="lower-bound-transform.html"><a href="lower-bound-transform.html#lower-bound-transform"><i class="fa fa-check"></i>Lower bound transform</a></li>
<li class="chapter" data-level="" data-path="lower-bound-transform.html"><a href="lower-bound-transform.html#lower-bound-inverse-transform"><i class="fa fa-check"></i>Lower bound inverse transform</a></li>
<li class="chapter" data-level="" data-path="lower-bound-transform.html"><a href="lower-bound-transform.html#absolute-derivative-of-the-lower-bound-inverse-transform"><i class="fa fa-check"></i>Absolute derivative of the lower bound inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="upper-bounded-scalar.html"><a href="upper-bounded-scalar.html"><i class="fa fa-check"></i><b>10.3</b> Upper bounded scalar</a>
<ul>
<li class="chapter" data-level="" data-path="upper-bounded-scalar.html"><a href="upper-bounded-scalar.html#upper-bound-transform"><i class="fa fa-check"></i>Upper bound transform</a></li>
<li class="chapter" data-level="" data-path="upper-bounded-scalar.html"><a href="upper-bounded-scalar.html#upper-bound-inverse-transform"><i class="fa fa-check"></i>Upper bound inverse transform</a></li>
<li class="chapter" data-level="" data-path="upper-bounded-scalar.html"><a href="upper-bounded-scalar.html#absolute-derivative-of-the-upper-bound-inverse-transform"><i class="fa fa-check"></i>Absolute derivative of the upper bound inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="logit-transform-jacobian.html"><a href="logit-transform-jacobian.html"><i class="fa fa-check"></i><b>10.4</b> Lower and upper bounded scalar</a>
<ul>
<li class="chapter" data-level="" data-path="logit-transform-jacobian.html"><a href="logit-transform-jacobian.html#log-odds-and-the-logistic-sigmoid"><i class="fa fa-check"></i>Log odds and the logistic sigmoid</a></li>
<li class="chapter" data-level="" data-path="logit-transform-jacobian.html"><a href="logit-transform-jacobian.html#lower-and-upper-bounds-transform"><i class="fa fa-check"></i>Lower and upper bounds transform</a></li>
<li class="chapter" data-level="" data-path="logit-transform-jacobian.html"><a href="logit-transform-jacobian.html#lower-and-upper-bounds-inverse-transform"><i class="fa fa-check"></i>Lower and upper bounds inverse transform</a></li>
<li class="chapter" data-level="" data-path="logit-transform-jacobian.html"><a href="logit-transform-jacobian.html#absolute-derivative-of-the-lower-and-upper-bounds-inverse-transform"><i class="fa fa-check"></i>Absolute derivative of the lower and upper bounds inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="affinely-transformed-scalar.html"><a href="affinely-transformed-scalar.html"><i class="fa fa-check"></i><b>10.5</b> Affinely transformed scalar</a>
<ul>
<li class="chapter" data-level="" data-path="affinely-transformed-scalar.html"><a href="affinely-transformed-scalar.html#affine-transform"><i class="fa fa-check"></i>Affine transform</a></li>
<li class="chapter" data-level="" data-path="affinely-transformed-scalar.html"><a href="affinely-transformed-scalar.html#affine-inverse-transform"><i class="fa fa-check"></i>Affine inverse transform</a></li>
<li class="chapter" data-level="10.5.1" data-path="affinely-transformed-scalar.html"><a href="affinely-transformed-scalar.html#absolute-derivative-of-the-affine-inverse-transform"><i class="fa fa-check"></i><b>10.5.1</b> Absolute derivative of the affine inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="ordered-vector.html"><a href="ordered-vector.html"><i class="fa fa-check"></i><b>10.6</b> Ordered vector</a>
<ul>
<li class="chapter" data-level="" data-path="ordered-vector.html"><a href="ordered-vector.html#ordered-transform"><i class="fa fa-check"></i>Ordered transform</a></li>
<li class="chapter" data-level="" data-path="ordered-vector.html"><a href="ordered-vector.html#ordered-inverse-transform"><i class="fa fa-check"></i>Ordered inverse transform</a></li>
<li class="chapter" data-level="" data-path="ordered-vector.html"><a href="ordered-vector.html#absolute-jacobian-determinant-of-the-ordered-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of the ordered inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="simplex-transform.html"><a href="simplex-transform.html"><i class="fa fa-check"></i><b>10.7</b> Unit simplex</a>
<ul>
<li class="chapter" data-level="" data-path="simplex-transform.html"><a href="simplex-transform.html#unit-simplex-inverse-transform"><i class="fa fa-check"></i>Unit simplex inverse transform</a></li>
<li class="chapter" data-level="" data-path="simplex-transform.html"><a href="simplex-transform.html#absolute-jacobian-determinant-of-the-unit-simplex-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of the unit-simplex inverse transform</a></li>
<li class="chapter" data-level="" data-path="simplex-transform.html"><a href="simplex-transform.html#unit-simplex-transform"><i class="fa fa-check"></i>Unit simplex transform</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="unit-vector.html"><a href="unit-vector.html"><i class="fa fa-check"></i><b>10.8</b> Unit vector</a>
<ul>
<li class="chapter" data-level="" data-path="unit-vector.html"><a href="unit-vector.html#unit-vector-inverse-transform"><i class="fa fa-check"></i>Unit vector inverse transform</a></li>
<li class="chapter" data-level="" data-path="unit-vector.html"><a href="unit-vector.html#absolute-jacobian-determinant-of-the-unit-vector-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of the unit vector inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="correlation-matrix-transform.html"><a href="correlation-matrix-transform.html"><i class="fa fa-check"></i><b>10.9</b> Correlation matrices</a>
<ul>
<li class="chapter" data-level="" data-path="correlation-matrix-transform.html"><a href="correlation-matrix-transform.html#correlation-matrix-inverse-transform"><i class="fa fa-check"></i>Correlation matrix inverse transform</a></li>
<li class="chapter" data-level="" data-path="correlation-matrix-transform.html"><a href="correlation-matrix-transform.html#absolute-jacobian-determinant-of-the-correlation-matrix-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of the correlation matrix inverse transform</a></li>
<li class="chapter" data-level="" data-path="correlation-matrix-transform.html"><a href="correlation-matrix-transform.html#correlation-matrix-transform"><i class="fa fa-check"></i>Correlation matrix transform</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="covariance-matrices-1.html"><a href="covariance-matrices-1.html"><i class="fa fa-check"></i><b>10.10</b> Covariance matrices</a>
<ul>
<li class="chapter" data-level="" data-path="covariance-matrices-1.html"><a href="covariance-matrices-1.html#covariance-matrix-transform"><i class="fa fa-check"></i>Covariance matrix transform</a></li>
<li class="chapter" data-level="" data-path="covariance-matrices-1.html"><a href="covariance-matrices-1.html#covariance-matrix-inverse-transform"><i class="fa fa-check"></i>Covariance matrix inverse transform</a></li>
<li class="chapter" data-level="" data-path="covariance-matrices-1.html"><a href="covariance-matrices-1.html#absolute-jacobian-determinant-of-the-covariance-matrix-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of the covariance matrix inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.11" data-path="cholesky-factors-of-covariance-matrices-1.html"><a href="cholesky-factors-of-covariance-matrices-1.html"><i class="fa fa-check"></i><b>10.11</b> Cholesky factors of covariance matrices</a>
<ul>
<li class="chapter" data-level="" data-path="cholesky-factors-of-covariance-matrices-1.html"><a href="cholesky-factors-of-covariance-matrices-1.html#cholesky-factor-of-covariance-matrix-transform"><i class="fa fa-check"></i>Cholesky factor of covariance matrix transform</a></li>
<li class="chapter" data-level="" data-path="cholesky-factors-of-covariance-matrices-1.html"><a href="cholesky-factors-of-covariance-matrices-1.html#cholesky-factor-of-covariance-matrix-inverse-transform"><i class="fa fa-check"></i>Cholesky factor of covariance matrix inverse transform</a></li>
<li class="chapter" data-level="" data-path="cholesky-factors-of-covariance-matrices-1.html"><a href="cholesky-factors-of-covariance-matrices-1.html#absolute-jacobian-determinant-of-cholesky-factor-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of Cholesky factor inverse transform</a></li>
</ul></li>
<li class="chapter" data-level="10.12" data-path="cholesky-factors-of-correlation-matrices-1.html"><a href="cholesky-factors-of-correlation-matrices-1.html"><i class="fa fa-check"></i><b>10.12</b> Cholesky factors of correlation matrices</a>
<ul>
<li class="chapter" data-level="" data-path="cholesky-factors-of-correlation-matrices-1.html"><a href="cholesky-factors-of-correlation-matrices-1.html#cholesky-factor-of-correlation-matrix-inverse-transform"><i class="fa fa-check"></i>Cholesky factor of correlation matrix inverse transform</a></li>
<li class="chapter" data-level="" data-path="cholesky-factors-of-correlation-matrices-1.html"><a href="cholesky-factors-of-correlation-matrices-1.html#cholesky-factor-of-correlation-matrix-transform"><i class="fa fa-check"></i>Cholesky factor of correlation matrix transform</a></li>
<li class="chapter" data-level="" data-path="cholesky-factors-of-correlation-matrices-1.html"><a href="cholesky-factors-of-correlation-matrices-1.html#absolute-jacobian-determinant-of-inverse-transform"><i class="fa fa-check"></i>Absolute Jacobian determinant of inverse transform</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="language-syntax.html"><a href="language-syntax.html"><i class="fa fa-check"></i><b>11</b> Language Syntax</a>
<ul>
<li class="chapter" data-level="11.1" data-path="bnf-grammars.html"><a href="bnf-grammars.html"><i class="fa fa-check"></i><b>11.1</b> BNF grammars</a>
<ul>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#syntactic-conventions"><i class="fa fa-check"></i>Syntactic conventions</a></li>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#programs"><i class="fa fa-check"></i>Programs</a></li>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#function-declarations-and-definitions"><i class="fa fa-check"></i>Function declarations and definitions</a></li>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#variable-declarations-and-compound-definitions"><i class="fa fa-check"></i>Variable declarations and compound definitions</a></li>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#expressions-1"><i class="fa fa-check"></i>Expressions</a></li>
<li class="chapter" data-level="" data-path="bnf-grammars.html"><a href="bnf-grammars.html#statements-3"><i class="fa fa-check"></i>Statements</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="tokenizing-rules.html"><a href="tokenizing-rules.html"><i class="fa fa-check"></i><b>11.2</b> Tokenizing rules</a></li>
<li class="chapter" data-level="11.3" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html"><i class="fa fa-check"></i><b>11.3</b> Extra-grammatical constraints</a>
<ul>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#type-constraints"><i class="fa fa-check"></i>Type constraints</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#operator-precedence-and-associativity-1"><i class="fa fa-check"></i>Operator precedence and associativity</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#typing-of-compound-declaration-and-definition"><i class="fa fa-check"></i>Typing of compound declaration and definition</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#typing-of-array-expressions"><i class="fa fa-check"></i>Typing of array expressions</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#forms-of-numbers"><i class="fa fa-check"></i>Forms of numbers</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#conditional-arguments"><i class="fa fa-check"></i>Conditional arguments</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#for-loop-containers"><i class="fa fa-check"></i>For loop containers</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#print-arguments"><i class="fa fa-check"></i>Print arguments</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#only-break-and-continue-in-loops"><i class="fa fa-check"></i>Only break and continue in loops</a></li>
<li class="chapter" data-level="11.3.1" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#block-specific-restrictions"><i class="fa fa-check"></i><b>11.3.1</b> Block-specific restrictions</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#probability-function-naming"><i class="fa fa-check"></i>Probability function naming</a></li>
<li class="chapter" data-level="" data-path="extra-grammatical-constraints.html"><a href="extra-grammatical-constraints.html#indexes"><i class="fa fa-check"></i>Indexes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="program-execution.html"><a href="program-execution.html"><i class="fa fa-check"></i><b>12</b> Program Execution</a>
<ul>
<li class="chapter" data-level="12.1" data-path="reading-and-transforming-data.html"><a href="reading-and-transforming-data.html"><i class="fa fa-check"></i><b>12.1</b> Reading and transforming data</a>
<ul>
<li class="chapter" data-level="" data-path="reading-and-transforming-data.html"><a href="reading-and-transforming-data.html#read-data"><i class="fa fa-check"></i>Read data</a></li>
<li class="chapter" data-level="" data-path="reading-and-transforming-data.html"><a href="reading-and-transforming-data.html#define-transformed-data"><i class="fa fa-check"></i>Define transformed data</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="initialization.html"><a href="initialization.html"><i class="fa fa-check"></i><b>12.2</b> Initialization</a>
<ul>
<li class="chapter" data-level="" data-path="initialization.html"><a href="initialization.html#user-supplied-initial-values"><i class="fa fa-check"></i>User-supplied initial values</a></li>
<li class="chapter" data-level="" data-path="initialization.html"><a href="initialization.html#random-initial-values"><i class="fa fa-check"></i>Random initial values</a></li>
<li class="chapter" data-level="" data-path="initialization.html"><a href="initialization.html#zero-initial-values"><i class="fa fa-check"></i>Zero initial values</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="sampling.html"><a href="sampling.html"><i class="fa fa-check"></i><b>12.3</b> Sampling</a>
<ul>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#leapfrog-steps"><i class="fa fa-check"></i>Leapfrog steps</a></li>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#log-probability-and-gradient-calculation"><i class="fa fa-check"></i>Log probability and gradient calculation</a></li>
<li class="chapter" data-level="" data-path="sampling.html"><a href="sampling.html#metropolis-acceptreject"><i class="fa fa-check"></i>Metropolis accept/reject</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>12.4</b> Optimization</a></li>
<li class="chapter" data-level="12.5" data-path="variational-inference.html"><a href="variational-inference.html"><i class="fa fa-check"></i><b>12.5</b> Variational inference</a></li>
<li class="chapter" data-level="12.6" data-path="model-diagnostics.html"><a href="model-diagnostics.html"><i class="fa fa-check"></i><b>12.6</b> Model diagnostics</a></li>
<li class="chapter" data-level="12.7" data-path="output.html"><a href="output.html"><i class="fa fa-check"></i><b>12.7</b> Output</a>
<ul>
<li class="chapter" data-level="" data-path="output.html"><a href="output.html#generated-quantities-1"><i class="fa fa-check"></i>Generated quantities</a></li>
<li class="chapter" data-level="" data-path="output.html"><a href="output.html#write"><i class="fa fa-check"></i>Write</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="deprecated-features.html"><a href="deprecated-features.html"><i class="fa fa-check"></i><b>13</b> Deprecated Features</a>
<ul>
<li class="chapter" data-level="13.1" data-path="lkj_cov-distribution.html"><a href="lkj_cov-distribution.html"><i class="fa fa-check"></i><b>13.1</b> <code>lkj_cov</code> distribution</a></li>
<li class="chapter" data-level="13.2" data-path="real-values-in-conditionals.html"><a href="real-values-in-conditionals.html"><i class="fa fa-check"></i><b>13.2</b> Real values in conditionals</a></li>
<li class="chapter" data-level="13.3" data-path="deprecated-functions.html"><a href="deprecated-functions.html"><i class="fa fa-check"></i><b>13.3</b> Deprecated Functions</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="removed-features.html"><a href="removed-features.html"><i class="fa fa-check"></i><b>14</b> Removed Features</a>
<ul>
<li class="chapter" data-level="14.1" data-path="lp__-variable.html"><a href="lp__-variable.html"><i class="fa fa-check"></i><b>14.1</b> <code>lp__</code> variable</a></li>
<li class="chapter" data-level="14.2" data-path="assignment-with--.html"><a href="assignment-with--.html"><i class="fa fa-check"></i><b>14.2</b> Assignment with <code>&lt;-</code></a></li>
<li class="chapter" data-level="14.3" data-path="increment_log_prob-statement.html"><a href="increment_log_prob-statement.html"><i class="fa fa-check"></i><b>14.3</b> <code>increment_log_prob</code> statement</a></li>
<li class="chapter" data-level="14.4" data-path="get_lp-function.html"><a href="get_lp-function.html"><i class="fa fa-check"></i><b>14.4</b> <code>get_lp()</code> function</a></li>
<li class="chapter" data-level="14.5" data-path="log-density-and-mass-functions.html"><a href="log-density-and-mass-functions.html"><i class="fa fa-check"></i><b>14.5</b> <code>_log</code> density and mass functions</a></li>
<li class="chapter" data-level="14.6" data-path="cdf_log-and-ccdf_log-cumulative-distribution-functions.html"><a href="cdf_log-and-ccdf_log-cumulative-distribution-functions.html"><i class="fa fa-check"></i><b>14.6</b> <code>cdf_log</code> and <code>ccdf_log</code> cumulative distribution functions</a></li>
<li class="chapter" data-level="14.7" data-path="user-defined-function-with-_log-suffix.html"><a href="user-defined-function-with-_log-suffix.html"><i class="fa fa-check"></i><b>14.7</b> User-defined function with <code>_log</code> suffix</a></li>
<li class="chapter" data-level="14.8" data-path="if_else-function.html"><a href="if_else-function.html"><i class="fa fa-check"></i><b>14.8</b> <code>if_else</code> function</a></li>
<li class="chapter" data-level="14.9" data-path="character-as-comment-prefix.html"><a href="character-as-comment-prefix.html"><i class="fa fa-check"></i><b>14.9</b> Character <code>#</code> as comment prefix</a></li>
<li class="chapter" data-level="14.10" data-path="postfix-brackets-array-syntax.html"><a href="postfix-brackets-array-syntax.html"><i class="fa fa-check"></i><b>14.10</b> Postfix brackets array syntax</a></li>
<li class="chapter" data-level="14.11" data-path="nested-multiple-indexing-in-assignments.html"><a href="nested-multiple-indexing-in-assignments.html"><i class="fa fa-check"></i><b>14.11</b> Nested multiple indexing in assignments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="algorithms.html"><a href="algorithms.html"><i class="fa fa-check"></i><i style="font-size: 110%; color:#990017;">Algorithms</i></a></li>
<li class="chapter" data-level="15" data-path="hmc.html"><a href="hmc.html"><i class="fa fa-check"></i><b>15</b> MCMC Sampling</a>
<ul>
<li class="chapter" data-level="15.1" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html"><i class="fa fa-check"></i><b>15.1</b> Hamiltonian Monte Carlo</a>
<ul>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#target-density"><i class="fa fa-check"></i>Target density</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#auxiliary-momentum-variable"><i class="fa fa-check"></i>Auxiliary momentum variable</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#the-hamiltonian"><i class="fa fa-check"></i>The Hamiltonian</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#generating-transitions"><i class="fa fa-check"></i>Generating transitions</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#leapfrog-integrator"><i class="fa fa-check"></i>Leapfrog integrator</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#metropolis-accept-step"><i class="fa fa-check"></i>Metropolis accept step</a></li>
<li class="chapter" data-level="" data-path="hamiltonian-monte-carlo.html"><a href="hamiltonian-monte-carlo.html#algorithm-summary"><i class="fa fa-check"></i>Algorithm summary</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html"><i class="fa fa-check"></i><b>15.2</b> HMC algorithm parameters</a>
<ul>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#integration-time"><i class="fa fa-check"></i>Integration time</a></li>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#automatic-parameter-tuning"><i class="fa fa-check"></i>Automatic parameter tuning</a></li>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#discretization-interval-adaptation-parameters"><i class="fa fa-check"></i>Discretization-interval adaptation parameters</a></li>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#step-size-jitter"><i class="fa fa-check"></i>Step-size jitter</a></li>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#euclidean-metric"><i class="fa fa-check"></i>Euclidean metric</a></li>
<li class="chapter" data-level="" data-path="hmc-algorithm-parameters.html"><a href="hmc-algorithm-parameters.html#nuts-and-its-configuration"><i class="fa fa-check"></i>NUTS and its configuration</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="sampling-without-parameters.html"><a href="sampling-without-parameters.html"><i class="fa fa-check"></i><b>15.3</b> Sampling without parameters</a></li>
<li class="chapter" data-level="15.4" data-path="general-config.html"><a href="general-config.html"><i class="fa fa-check"></i><b>15.4</b> General configuration options</a>
<ul>
<li class="chapter" data-level="" data-path="general-config.html"><a href="general-config.html#random-number-generator"><i class="fa fa-check"></i>Random number generator</a></li>
<li class="chapter" data-level="" data-path="general-config.html"><a href="general-config.html#initialization-1"><i class="fa fa-check"></i>Initialization</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="divergent-transitions.html"><a href="divergent-transitions.html"><i class="fa fa-check"></i><b>15.5</b> Divergent transitions</a>
<ul>
<li class="chapter" data-level="" data-path="divergent-transitions.html"><a href="divergent-transitions.html#diagnosing-and-eliminating-divergences"><i class="fa fa-check"></i>Diagnosing and eliminating divergences</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>16</b> Posterior Analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="markov-chains.html"><a href="markov-chains.html"><i class="fa fa-check"></i><b>16.1</b> Markov chains</a></li>
<li class="chapter" data-level="16.2" data-path="convergence.html"><a href="convergence.html"><i class="fa fa-check"></i><b>16.2</b> Convergence</a></li>
<li class="chapter" data-level="16.3" data-path="notation-for-samples-chains-and-draws.html"><a href="notation-for-samples-chains-and-draws.html"><i class="fa fa-check"></i><b>16.3</b> Notation for samples, chains, and draws</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="notation-for-samples-chains-and-draws.html"><a href="notation-for-samples-chains-and-draws.html#potential-scale-reduction"><i class="fa fa-check"></i><b>16.3.1</b> Potential scale reduction</a></li>
<li class="chapter" data-level="16.3.2" data-path="notation-for-samples-chains-and-draws.html"><a href="notation-for-samples-chains-and-draws.html#split-r-hat-for-detecting-non-stationarity"><i class="fa fa-check"></i><b>16.3.2</b> Split R-hat for detecting non-stationarity</a></li>
<li class="chapter" data-level="16.3.3" data-path="notation-for-samples-chains-and-draws.html"><a href="notation-for-samples-chains-and-draws.html#convergence-is-global"><i class="fa fa-check"></i><b>16.3.3</b> Convergence is global</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="effective-sample-size.html"><a href="effective-sample-size.html"><i class="fa fa-check"></i><b>16.4</b> Effective sample size</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="effective-sample-size.html"><a href="effective-sample-size.html#definition-of-effective-sample-size"><i class="fa fa-check"></i><b>16.4.1</b> Definition of effective sample size</a></li>
<li class="chapter" data-level="16.4.2" data-path="effective-sample-size.html"><a href="effective-sample-size.html#estimation-of-effective-sample-size"><i class="fa fa-check"></i><b>16.4.2</b> Estimation of effective sample size</a></li>
<li class="chapter" data-level="16.4.3" data-path="effective-sample-size.html"><a href="effective-sample-size.html#estimation-of-mcmc-standard-error"><i class="fa fa-check"></i><b>16.4.3</b> Estimation of MCMC standard error</a></li>
<li class="chapter" data-level="16.4.4" data-path="effective-sample-size.html"><a href="effective-sample-size.html#thinning-samples"><i class="fa fa-check"></i><b>16.4.4</b> Thinning samples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="optimization.html"><a href="optimization.html#optimization.chapter"><i class="fa fa-check"></i><b>17</b> Optimization</a>
<ul>
<li class="chapter" data-level="17.1" data-path="general-configuration.html"><a href="general-configuration.html"><i class="fa fa-check"></i><b>17.1</b> General configuration</a></li>
<li class="chapter" data-level="17.2" data-path="bfgs-and-l-bfgs-configuration.html"><a href="bfgs-and-l-bfgs-configuration.html"><i class="fa fa-check"></i><b>17.2</b> BFGS and L-BFGS configuration</a>
<ul>
<li class="chapter" data-level="" data-path="bfgs-and-l-bfgs-configuration.html"><a href="bfgs-and-l-bfgs-configuration.html#convergence-monitoring"><i class="fa fa-check"></i>Convergence monitoring</a></li>
<li class="chapter" data-level="" data-path="bfgs-and-l-bfgs-configuration.html"><a href="bfgs-and-l-bfgs-configuration.html#initial-step-size"><i class="fa fa-check"></i>Initial step size</a></li>
<li class="chapter" data-level="" data-path="bfgs-and-l-bfgs-configuration.html"><a href="bfgs-and-l-bfgs-configuration.html#l-bfgs-history-size"><i class="fa fa-check"></i>L-BFGS history size</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="writing-models-for-optimization.html"><a href="writing-models-for-optimization.html"><i class="fa fa-check"></i><b>17.3</b> Writing models for optimization</a>
<ul>
<li class="chapter" data-level="" data-path="writing-models-for-optimization.html"><a href="writing-models-for-optimization.html#constrained-vs.-unconstrained-parameters"><i class="fa fa-check"></i>Constrained vs. unconstrained parameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="pathfinder.html"><a href="pathfinder.html"><i class="fa fa-check"></i><b>18</b> Pathfinder</a></li>
<li class="chapter" data-level="19" data-path="vi-algorithms.html"><a href="vi-algorithms.html"><i class="fa fa-check"></i><b>19</b> Variational Inference</a>
<ul>
<li class="chapter" data-level="19.1" data-path="stochastic-gradient-ascent.html"><a href="stochastic-gradient-ascent.html"><i class="fa fa-check"></i><b>19.1</b> Stochastic gradient ascent</a>
<ul>
<li class="chapter" data-level="" data-path="stochastic-gradient-ascent.html"><a href="stochastic-gradient-ascent.html#monte-carlo-approximation-of-the-elbo"><i class="fa fa-check"></i>Monte Carlo approximation of the ELBO</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-ascent.html"><a href="stochastic-gradient-ascent.html#monte-carlo-approximation-of-the-gradients"><i class="fa fa-check"></i>Monte Carlo approximation of the gradients</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-ascent.html"><a href="stochastic-gradient-ascent.html#adaptive-stepsize-sequence"><i class="fa fa-check"></i>Adaptive stepsize sequence</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-ascent.html"><a href="stochastic-gradient-ascent.html#assessing-convergence"><i class="fa fa-check"></i>Assessing convergence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="laplace-approximation.html"><a href="laplace-approximation.html"><i class="fa fa-check"></i><b>20</b> Laplace Approximation</a></li>
<li class="chapter" data-level="21" data-path="diagnostic-algorithms.html"><a href="diagnostic-algorithms.html"><i class="fa fa-check"></i><b>21</b> Diagnostic Mode</a>
<ul>
<li class="chapter" data-level="21.1" data-path="diagnostic-mode-output.html"><a href="diagnostic-mode-output.html"><i class="fa fa-check"></i><b>21.1</b> Diagnostic mode output</a>
<ul>
<li class="chapter" data-level="" data-path="diagnostic-mode-output.html"><a href="diagnostic-mode-output.html#unconstrained-scale"><i class="fa fa-check"></i>Unconstrained scale</a></li>
<li class="chapter" data-level="" data-path="diagnostic-mode-output.html"><a href="diagnostic-mode-output.html#includes-jacobian"><i class="fa fa-check"></i>Includes Jacobian</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="configuration-options.html"><a href="configuration-options.html"><i class="fa fa-check"></i><b>21.2</b> Configuration options</a></li>
<li class="chapter" data-level="21.3" data-path="speed-warning-and-data-trimming.html"><a href="speed-warning-and-data-trimming.html"><i class="fa fa-check"></i><b>21.3</b> Speed warning and data trimming</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="usage.html"><a href="usage.html"><i class="fa fa-check"></i><i style="font-size: 110%; color:#990017;">Usage</i></a></li>
<li class="chapter" data-level="22" data-path="reproducibility.html"><a href="reproducibility.html"><i class="fa fa-check"></i><b>22</b> Reproducibility</a></li>
<li class="chapter" data-level="23" data-path="licensing.html"><a href="licensing.html"><i class="fa fa-check"></i><b>23</b> Licenses and Dependencies</a>
<ul>
<li class="chapter" data-level="23.1" data-path="stan-license.html"><a href="stan-license.html"><i class="fa fa-check"></i><b>23.1</b> Stan license</a></li>
<li class="chapter" data-level="23.2" data-path="boost-license.html"><a href="boost-license.html"><i class="fa fa-check"></i><b>23.2</b> Boost license</a></li>
<li class="chapter" data-level="23.3" data-path="eigen-license.html"><a href="eigen-license.html"><i class="fa fa-check"></i><b>23.3</b> Eigen license</a></li>
<li class="chapter" data-level="23.4" data-path="sundials-license.html"><a href="sundials-license.html"><i class="fa fa-check"></i><b>23.4</b> SUNDIALS license</a></li>
<li class="chapter" data-level="23.5" data-path="google-test-license.html"><a href="google-test-license.html"><i class="fa fa-check"></i><b>23.5</b> Google test license</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><i style="font-size: 110%; color:#990017;">References</i></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stan Reference Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">

<div>
This is an old version, <a href="https://mc-stan.org/docs/reference-manual/statements.html#sampling-statements.section">view current version</a>.
</div>
<div id="sampling-statements.section" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Sampling statements<a href="sampling-statements.html#sampling-statements.section" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Stan supports writing probability statements also in sampling
notation, such as</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb162-1"><a href="sampling-statements.html#cb162-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(mu, sigma);</span></code></pre></div>
<p>The name “sampling statement” is meant to be suggestive, not
interpreted literally. Conceptually, the variable <code>y</code>, which may
be an unknown parameter or known, modeled data, is being declared
to have the distribution indicated by the right-hand side of the
sampling statement. The above statement can read as “y is distributed
as normal distribution with parameters mu and sigma.”. The symbol <code>~</code>
is called tilde.</p>
<p>Executing such a statement does not perform any sampling. In Stan, a
sampling statement is merely a notational convenience following the typical
notation used to present models in the literature. The above
sampling statement could be expressed as a direct increment on the
total log probability density as</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb163-1"><a href="sampling-statements.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> normal_lpdf(y | mu, sigma);</span></code></pre></div>
<p>In general, a sampling statement of the form</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb164-1"><a href="sampling-statements.html#cb164-1" aria-hidden="true" tabindex="-1"></a>y ~ dist(theta1, ..., thetaN);</span></code></pre></div>
<p>involving subexpressions <code>y</code> and <code>theta1</code> through
<code>thetaN</code> (including the case where <code>N</code> is zero) will be well
formed if and only if the corresponding assignment statement is
well-formed. For densities allowing real <code>y</code> values, the log
probability density function is used,</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb165-1"><a href="sampling-statements.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> dist_lpdf(y | theta1, ..., thetaN);</span></code></pre></div>
<p>For those restricted to integer <code>y</code> values, the log probability
mass function is used,</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb166-1"><a href="sampling-statements.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> dist_lpmf(y | theta1, ..., thetaN);</span></code></pre></div>
<p>This will be well formed if and only if <code>dist_lpdf(y | theta1,   ..., thetaN)</code> or <code>dist_lpmf(y | theta1, ..., thetaN)</code> is a
well-formed expression of type <code>real</code>.</p>
<div id="log-probability-increment-vs.-sampling-statement" class="section level3 unnumbered hasAnchor">
<h3>Log probability increment vs. sampling statement<a href="sampling-statements.html#log-probability-increment-vs.-sampling-statement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Although both lead to the same sampling behavior in Stan, there is one
critical difference between using the sampling statement, as in</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb167-1"><a href="sampling-statements.html#cb167-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(mu, sigma);</span></code></pre></div>
<p>and explicitly incrementing the log probability function, as in</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb168-1"><a href="sampling-statements.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> normal_lpdf(y | mu, sigma);</span></code></pre></div>
<p>The sampling statement drops all the terms in the log probability
function that are constant, whereas the explicit call to
<code>normal_lpdf</code> adds all of the terms in the definition of the log
normal probability function, including all of the constant normalizing
terms. Therefore, the explicit increment form can be used to recreate
the exact log probability values for the model. Otherwise, the
sampling statement form will be faster if any of the input expressions,
<code>y</code>, <code>mu</code>, or <code>sigma</code>, involve only constants, data
variables, and transformed data variables.</p>
</div>
<div id="user-transformed-variables" class="section level3 unnumbered hasAnchor">
<h3>User-transformed variables<a href="sampling-statements.html#user-transformed-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The left-hand side of a sampling statement may be a complex
expression. For instance, it is legal syntactically to write</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb169-1"><a href="sampling-statements.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="kw">parameters</span> {</span>
<span id="cb169-2"><a href="sampling-statements.html#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">real</span>&lt;<span class="kw">lower</span>=<span class="dv">0</span>&gt; beta;</span>
<span id="cb169-3"><a href="sampling-statements.html#cb169-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb169-4"><a href="sampling-statements.html#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb169-5"><a href="sampling-statements.html#cb169-5" aria-hidden="true" tabindex="-1"></a><span class="kw">model</span> {</span>
<span id="cb169-6"><a href="sampling-statements.html#cb169-6" aria-hidden="true" tabindex="-1"></a>  log(beta) ~ normal(mu, sigma);</span>
<span id="cb169-7"><a href="sampling-statements.html#cb169-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Unfortunately, this is not enough to properly model <code>beta</code> as
having a lognormal distribution. Whenever a nonlinear transform is
applied to a parameter, such as the logarithm function being applied
to <code>beta</code> here, and then used on the left-hand side of a sampling
statement or on the left of a vertical bar in a log pdf function, an
adjustment must be made to account for the differential change in
scale and ensure <code>beta</code> gets the correct distribution. The
correction required is to add the log Jacobian of the transform to the
target log density; see the <a href="change-of-variables.html#change-of-variables.section">change of variables section</a> for full
definitions. For the case above, the following adjustment will
account for the log transform.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb170-1"><a href="sampling-statements.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> - log(abs(y));</span></code></pre></div>
</div>
<div id="truncated-distributions" class="section level3 unnumbered hasAnchor">
<h3>Truncated distributions<a href="sampling-statements.html#truncated-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Stan supports truncating distributions with lower bounds, upper
bounds, or both.</p>
<div id="truncating-with-lower-and-upper-bounds" class="section level4 unnumbered hasAnchor">
<h4>Truncating with lower and upper bounds<a href="sampling-statements.html#truncating-with-lower-and-upper-bounds" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A probability density function <span class="math inline">\(p(x)\)</span> for a continuous distribution
may be truncated to an interval <span class="math inline">\([a, b]\)</span> to define a new density
<span class="math inline">\(p_{[a, b]}(x)\)</span> with support <span class="math inline">\([a, b]\)</span> by setting</p>
<p><span class="math display">\[
p_{[a, b]}(x)
= \frac{p(x)}
       {\int_a^b p(u) \, du}.
\]</span></p>
<p>A probability mass function <span class="math inline">\(p(x)\)</span> for a discrete distribution may be
truncated to the closed interval <span class="math inline">\([a, b]\)</span> by</p>
<p><span class="math display">\[
p_{[a, b]}(x) = \frac{p(x)}
                  {\sum_{u = a}^b p(u)}.
\]</span></p>
</div>
<div id="truncating-with-a-lower-bound" class="section level4 unnumbered hasAnchor">
<h4>Truncating with a lower bound<a href="sampling-statements.html#truncating-with-a-lower-bound" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A probability density function <span class="math inline">\(p(x)\)</span> can be truncated to <span class="math inline">\([a, \infty]\)</span> by
defining</p>
<p><span class="math display">\[
p_{[a, \infty]}(x)
= \frac{p(x)}
       {\int_a^{\infty} p(u) \, du}.
\]</span></p>
<p>A probability mass function <span class="math inline">\(p(x)\)</span> is truncated to <span class="math inline">\([a, \infty]\)</span> by
defining</p>
<p><span class="math display">\[
p_{[a, \infty]}(x) = \frac{p(x)}
                  {\sum_{a &lt;= u} p(u)}.
\]</span></p>
</div>
<div id="truncating-with-an-upper-bound" class="section level4 unnumbered hasAnchor">
<h4>Truncating with an upper bound<a href="sampling-statements.html#truncating-with-an-upper-bound" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A probability density function <span class="math inline">\(p(x)\)</span> can be truncated to <span class="math inline">\([-\infty, b]\)</span> by
defining</p>
<p><span class="math display">\[
p_{[-\infty, b]}(x)
= \frac{p(x)}
       {\int_{-\infty}^b p(u) \, du}.
\]</span></p>
<p>A probability mass function <span class="math inline">\(p(x)\)</span> is truncated to <span class="math inline">\([-\infty, b]\)</span> by
defining</p>
<p><span class="math display">\[
p_{[-\infty,b]}(x) = \frac{p(x)}
                  {\sum_{u &lt;= b} p(u)}.
\]</span></p>
</div>
<div id="cumulative-distribution-functions" class="section level4 unnumbered hasAnchor">
<h4>Cumulative distribution functions<a href="sampling-statements.html#cumulative-distribution-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Given a probability function <span class="math inline">\(p_X(x)\)</span> for a random variable <span class="math inline">\(X\)</span>, its
cumulative distribution function (cdf) <span class="math inline">\(F_X(x)\)</span> is defined to be the
probability that <span class="math inline">\(X \leq x\)</span>,</p>
<p><span class="math display">\[
F_X(x) = \mathrm{Pr}[X \leq x].
\]</span></p>
<p>The upper-case variable <span class="math inline">\(X\)</span> is the random variable whereas the
lower-case variable <span class="math inline">\(x\)</span> is just an ordinary bound variable. For
continuous random variables, the definition of the cdf works out to</p>
<p><span class="math display">\[
F_X(x) \ = \ \int_{-\infty}^{x} p_X(u) \, du,
\]</span></p>
<p>For discrete variables, the cdf is defined to include the upper bound
given by the argument,</p>
<p><span class="math display">\[
F_X(x) = \sum_{u \leq x} p_X(u).
\]</span></p>
</div>
<div id="complementary-cumulative-distribution-functions" class="section level4 unnumbered hasAnchor">
<h4>Complementary cumulative distribution functions<a href="sampling-statements.html#complementary-cumulative-distribution-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The complementary cumulative distribution function (ccdf) in both the
continuous and discrete cases is given by</p>
<p><span class="math display">\[
F^C_X(x)
\ = \ \mathrm{Pr}[X &gt; x]
\ = \ 1 - F_X(x).
\]</span></p>
<p>Unlike the cdf, the ccdf is exclusive of the bound, hence the event
<span class="math inline">\(X &gt; x\)</span> rather than the cdf’s event <span class="math inline">\(X \leq x\)</span>.</p>
<p>For continuous distributions, the ccdf works out to</p>
<p><span class="math display">\[
F^C_X(x)
\ = \ 1 - \int_{-\infty}^x p_X(u) \, du
\ = \ \int_x^{\infty} p_X(u) \, du.
\]</span></p>
<p>The lower boundary can be included in the integration bounds because
it is a single point on a line and hence has no probability mass.
For the discrete case, the lower bound must be excluded in the
summation explicitly by summing over <span class="math inline">\(u &gt; x\)</span>,</p>
<p><span class="math display">\[
F^C_X(x)
\ = \ 1 - \sum_{u \leq x} p_X(u)
\ = \ \sum_{u &gt; x} p_X(u).
\]</span></p>
<p>Cumulative distribution functions provide the necessary integral
calculations to define truncated distributions. For truncation with
lower and upper bounds, the denominator is defined by
<span class="math display">\[
\int_a^b p(u) \, du = F_X(b) - F_X(a).
\]</span>
This allows truncated distributions to be defined as
<span class="math display">\[
p_{[a,b]}(x) = \frac{p_X(x)}
                  {F_X(b) - F_X(a)}.
\]</span></p>
<p>For discrete distributions, a slightly more complicated form is
required to explicitly insert the lower truncation point, which is
otherwise excluded from <span class="math inline">\(F_X(b) - F_X(a)\)</span>,</p>
<p><span class="math display">\[
p_{[a,b]}(x) = \frac{p_X(x)}
                  {F_X(b) - F_X(a) + p_X(a)}.
\]</span></p>
</div>
<div id="truncation-with-lower-and-upper-bounds-in-stan" class="section level4 unnumbered hasAnchor">
<h4>Truncation with lower and upper bounds in Stan<a href="sampling-statements.html#truncation-with-lower-and-upper-bounds-in-stan" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Stan allows probability functions to be truncated. For example, a
truncated unit normal distributions restricted to <span class="math inline">\([-0.5, 2.1]\)</span>
can be coded with the following sampling statement.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb171-1"><a href="sampling-statements.html#cb171-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(<span class="dv">0</span>, <span class="dv">1</span>) <span class="kw">T</span>[-<span class="fl">0.5</span>, <span class="fl">2.1</span>];</span></code></pre></div>
<p>Truncated distributions are translated as an additional term in the
accumulated log density function plus error checking to make sure the
variate in the sampling statement is within the bounds of the
truncation.</p>
<p>In general, the truncation bounds and parameters may be parameters or
local variables.</p>
<p>Because the example above involves a continuous distribution, it
behaves the same way as the following more verbose form.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb172-1"><a href="sampling-statements.html#cb172-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(<span class="dv">0</span>, <span class="dv">1</span>);</span>
<span id="cb172-2"><a href="sampling-statements.html#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &lt; -<span class="fl">0.5</span> || y &gt; <span class="fl">2.1</span>) {</span>
<span id="cb172-3"><a href="sampling-statements.html#cb172-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb172-4"><a href="sampling-statements.html#cb172-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb172-5"><a href="sampling-statements.html#cb172-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -log_diff_exp(normal_lcdf(<span class="fl">2.1</span> | <span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb172-6"><a href="sampling-statements.html#cb172-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb172-7"><a href="sampling-statements.html#cb172-7" aria-hidden="true" tabindex="-1"></a>                          normal_lcdf(-<span class="fl">0.5</span> | <span class="dv">0</span>, <span class="dv">1</span>));</span></code></pre></div>
<p>Because a Stan program defines a log density function, all
calculations are on the log scale. The function <code>normal_lcdf</code>
is the log of the cumulative normal distribution function and the
function <code>log_diff_exp(a, b)</code> is a more arithmetically stable
form of <code>log(exp(a) - exp(b))</code>.</p>
<p>For a discrete distribution, another term is necessary in the
denominator to account for the excluded boundary. The truncated
discrete distribution</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb173-1"><a href="sampling-statements.html#cb173-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>) <span class="kw">T</span>[<span class="dv">2</span>, <span class="dv">10</span>];</span></code></pre></div>
<p>behaves in the same way as the following code.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb174-1"><a href="sampling-statements.html#cb174-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>);</span>
<span id="cb174-2"><a href="sampling-statements.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &lt; <span class="dv">2</span> || y &gt; <span class="dv">10</span>) {</span>
<span id="cb174-3"><a href="sampling-statements.html#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb174-4"><a href="sampling-statements.html#cb174-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb174-5"><a href="sampling-statements.html#cb174-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -log_sum_exp(poisson_lpmf(<span class="dv">2</span> | <span class="fl">3.7</span>),</span>
<span id="cb174-6"><a href="sampling-statements.html#cb174-6" aria-hidden="true" tabindex="-1"></a>                         log_diff_exp(poisson_lcdf(<span class="dv">10</span> | <span class="fl">3.7</span>),</span>
<span id="cb174-7"><a href="sampling-statements.html#cb174-7" aria-hidden="true" tabindex="-1"></a>                                      poisson_lcdf(<span class="dv">2</span> | <span class="fl">3.7</span>)));</span>
<span id="cb174-8"><a href="sampling-statements.html#cb174-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Recall that <code>log_sum_exp(a, b)</code> is just the arithmetically stable form
of <code>log(exp(a) + exp(b))</code>.</p>
</div>
<div id="truncation-with-lower-bounds-in-stan" class="section level4 unnumbered hasAnchor">
<h4>Truncation with lower bounds in Stan<a href="sampling-statements.html#truncation-with-lower-bounds-in-stan" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For truncating with only a lower bound, the upper limit is left blank.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb175-1"><a href="sampling-statements.html#cb175-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(<span class="dv">0</span>, <span class="dv">1</span>) <span class="kw">T</span>[-<span class="fl">0.5</span>, ];</span></code></pre></div>
<p>This truncated sampling statement has the same behavior as the
following code.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb176-1"><a href="sampling-statements.html#cb176-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(<span class="dv">0</span>, <span class="dv">1</span>);</span>
<span id="cb176-2"><a href="sampling-statements.html#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &lt; -<span class="fl">0.5</span>) {</span>
<span id="cb176-3"><a href="sampling-statements.html#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb176-4"><a href="sampling-statements.html#cb176-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb176-5"><a href="sampling-statements.html#cb176-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -normal_lccdf(-<span class="fl">0.5</span> | <span class="dv">0</span>, <span class="dv">1</span>);</span>
<span id="cb176-6"><a href="sampling-statements.html#cb176-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>normal_lccdf</code> function is the normal complementary cumulative
distribution function.</p>
<p>As with lower and upper truncation, the discrete case requires a more
complicated denominator to add back in the probability mass for the
lower bound. Thus</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb177-1"><a href="sampling-statements.html#cb177-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>) <span class="kw">T</span>[<span class="dv">2</span>, ];</span></code></pre></div>
<p>behaves the same way as</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb178-1"><a href="sampling-statements.html#cb178-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>);</span>
<span id="cb178-2"><a href="sampling-statements.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &lt; <span class="dv">2</span>) {</span>
<span id="cb178-3"><a href="sampling-statements.html#cb178-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb178-4"><a href="sampling-statements.html#cb178-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb178-5"><a href="sampling-statements.html#cb178-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -log_sum_exp(poisson_lpmf(<span class="dv">2</span> | <span class="fl">3.7</span>),</span>
<span id="cb178-6"><a href="sampling-statements.html#cb178-6" aria-hidden="true" tabindex="-1"></a>                         poisson_lccdf(<span class="dv">2</span> | <span class="fl">3.7</span>));</span>
<span id="cb178-7"><a href="sampling-statements.html#cb178-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="truncation-with-upper-bounds-in-stan" class="section level4 unnumbered hasAnchor">
<h4>Truncation with upper bounds in Stan<a href="sampling-statements.html#truncation-with-upper-bounds-in-stan" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To truncate with only an upper bound, the lower bound is left blank.
The upper truncated sampling statement</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb179-1"><a href="sampling-statements.html#cb179-1" aria-hidden="true" tabindex="-1"></a>y ~ normal(<span class="dv">0</span>, <span class="dv">1</span>) <span class="kw">T</span>[ , <span class="fl">2.1</span>];</span></code></pre></div>
<p>produces the same result as the following code.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb180-1"><a href="sampling-statements.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target +=</span> normal_lpdf(y | <span class="dv">0</span>, <span class="dv">1</span>);</span>
<span id="cb180-2"><a href="sampling-statements.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &gt; <span class="fl">2.1</span>) {</span>
<span id="cb180-3"><a href="sampling-statements.html#cb180-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb180-4"><a href="sampling-statements.html#cb180-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb180-5"><a href="sampling-statements.html#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -normal_lcdf(<span class="fl">2.1</span> | <span class="dv">0</span>, <span class="dv">1</span>);</span>
<span id="cb180-6"><a href="sampling-statements.html#cb180-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>With only an upper bound, the discrete case does not need a boundary
adjustment. The upper-truncated sampling statement</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb181-1"><a href="sampling-statements.html#cb181-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>) <span class="kw">T</span>[ , <span class="dv">10</span>];</span></code></pre></div>
<p>behaves the same way as the following code.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode stan"><code class="sourceCode stan"><span id="cb182-1"><a href="sampling-statements.html#cb182-1" aria-hidden="true" tabindex="-1"></a>y ~ poisson(<span class="fl">3.7</span>);</span>
<span id="cb182-2"><a href="sampling-statements.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y &gt; <span class="dv">10</span>) {</span>
<span id="cb182-3"><a href="sampling-statements.html#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> negative_infinity();</span>
<span id="cb182-4"><a href="sampling-statements.html#cb182-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb182-5"><a href="sampling-statements.html#cb182-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">target +=</span> -poisson_lcdf(<span class="dv">10</span> | <span class="fl">3.7</span>);</span>
<span id="cb182-6"><a href="sampling-statements.html#cb182-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="cumulative-distributions-must-be-defined" class="section level4 unnumbered hasAnchor">
<h4>Cumulative distributions must be defined<a href="sampling-statements.html#cumulative-distributions-must-be-defined" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In all cases, the truncation is only well formed if the appropriate
log density or mass function and necessary log cumulative distribution
functions are defined. Not every distribution built into Stan has log
cdf and log ccdfs defined, nor will every user-defined distribution. The
discrete probability function documentations describes
the available discrete
and continuous cumulative distribution functions; most univariate
distributions have log cdf and log ccdf functions.</p>
</div>
<div id="type-constraints-on-bounds" class="section level4 unnumbered hasAnchor">
<h4>Type constraints on bounds<a href="sampling-statements.html#type-constraints-on-bounds" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For continuous distributions, truncation points must be expressions of
type <code>int</code> or <code>real</code>. For discrete distributions, truncation
points must be expressions of type <code>int</code>.</p>
</div>
<div id="variates-outside-of-truncation-bounds" class="section level4 unnumbered hasAnchor">
<h4>Variates outside of truncation bounds<a href="sampling-statements.html#variates-outside-of-truncation-bounds" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For a truncated sampling statement, if the value sampled is not within
the bounds specified by the truncation expression, the result is zero
probability and the entire statement adds <span class="math inline">\(-\infty\)</span> to the total log
probability, which in turn results in the sample being rejected.</p>
</div>
<div id="vectorizing-truncated-distributions" class="section level4 unnumbered hasAnchor">
<h4>Vectorizing truncated distributions<a href="sampling-statements.html#vectorizing-truncated-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Vectorization of distribution functions with truncation
is available if the underlying distribution, <code>lcdf</code>, and <code>lccdf</code> functions
meet the required signatures.</p>
<p>The equivalent code for a vectorized truncation depends on which of the
variables are non-scalars (arrays, vectors, etc.):</p>
<ol style="list-style-type: decimal">
<li><p>If the variate <code>y</code> is the only non-scalar, the result is the same as
described in the above sections, but the <code>lcdf</code>/<code>lccdf</code> calculation is multiplied
by <code>size(y)</code>.</p></li>
<li><p>If the other arguments to the distribution are non-scalars, then the
vectorized version of the <code>lcdf</code>/<code>lccdf</code> is used. These functions return the
sum of their terms, so no multiplication by the size is needed.</p></li>
<li><p>The exception to the above is when a non-variate is a vector and both a lower
and upper bound are specified in the truncation. In this case, a for loop is
generated over the elements of the non-scalar arguments. This is required
since the <code>log_diff_exp</code> of two sums is not the same as the sum of the
pairwise <code>log_diff_exp</code> operations.</p></li>
</ol>
<p>Note that while a lower-and-upper truncated distribution may generate a
for-loop internally as part of translating the truncation statement, this is
still preferable to manually constructing a loop, since the distribution
function itself can still be evaluated in a vectorized manner.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>Because <span class="math inline">\(\log | \frac{d}{dy} \log y | = \log | 1/y | = - \log |y|\)</span>.<a href="sampling-statements.html#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="increment-log-prob.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="for-loops.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/stan-dev/docs/tree/master/src/reference-manual/statements.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
