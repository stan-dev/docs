<!DOCTYPE html>
<html lang="" xml:lang="">
<head>
<link rel="canonical" href="https://mc-stan.org/docs/cmdstan-guide/json_apdx.html#creating-json-files" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>20 JSON Format for CmdStan | CmdStan User’s Guide</title>
  <meta name="description" content="CmdStan user’s guide." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="20 JSON Format for CmdStan | CmdStan User’s Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/logo-tm.pdf" />
  <meta property="og:description" content="CmdStan user’s guide." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="20 JSON Format for CmdStan | CmdStan User’s Guide" />
  
  <meta name="twitter:description" content="CmdStan user’s guide." />
  <meta name="twitter:image" content="/img/logo-tm.pdf" />

<meta name="author" content="Stan Development Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stan-csv.html"/>
<link rel="next" href="rdump.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="stan-manual.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="font-size:110%; font-weight:400; font-family: Verdana, Helvetica, sans; line-height:1.4; margin: 0.5em 0 0 1em"><a href="https://mc-stan.org/docs/cmdstan-guide/index.html" style="color:#4183C4">CmdStan User's Guide</a></li>

<li class="divider"></li>
<li><a href="index.html#introduction"><i style='font-size: 110%; color:#990017;'>Introduction</i></a></li>
<li><a href="quickstart-guide.html#quickstart-guide"><i style='font-size: 110%; color:#990017;'>QuickStart Guide</i></a></li>
<li class="chapter" data-level="1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html"><i class="fa fa-check"></i><b>1</b> CmdStan Installation</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#installing-the-c-toolchain"><i class="fa fa-check"></i><b>1.1</b> Installing the C++ toolchain</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#linux-g-and-make"><i class="fa fa-check"></i><b>1.1.1</b> Linux: <code>g++</code> and <code>make</code></a></li>
<li class="chapter" data-level="1.1.2" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#macos-clang-and-make"><i class="fa fa-check"></i><b>1.1.2</b> MacOS: <code>clang++</code> and <code>make</code></a></li>
<li class="chapter" data-level="1.1.3" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#windows-make"><i class="fa fa-check"></i><b>1.1.3</b> Windows: <code>g++</code> and <code>mingw32-make</code></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#gnu-make"><i class="fa fa-check"></i><b>1.2</b> GNU-Make utility</a></li>
<li class="chapter" data-level="1.3" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#git-clone.section"><i class="fa fa-check"></i><b>1.3</b> Clone the GitHub CmdStan repository</a></li>
<li class="chapter" data-level="1.4" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#building-cmdstan"><i class="fa fa-check"></i><b>1.4</b> Building CmdStan</a></li>
<li class="chapter" data-level="1.5" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#checking-the-stan-compiler"><i class="fa fa-check"></i><b>1.5</b> Checking the Stan compiler</a></li>
<li class="chapter" data-level="1.6" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#troubleshooting-the-installation"><i class="fa fa-check"></i><b>1.6</b> Troubleshooting the installation</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#common-problems"><i class="fa fa-check"></i><b>1.6.1</b> Common problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-model-and-data.html"><a href="example-model-and-data.html"><i class="fa fa-check"></i><b>2</b> Example Model and Data</a></li>
<li class="chapter" data-level="3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html"><i class="fa fa-check"></i><b>3</b> Compiling a Stan Program</a>
<ul>
<li class="chapter" data-level="3.1" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#invoking-the-make-utility"><i class="fa fa-check"></i><b>3.1</b> Invoking the Make utility</a></li>
<li class="chapter" data-level="3.2" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#dependencies"><i class="fa fa-check"></i><b>3.2</b> Dependencies</a></li>
<li class="chapter" data-level="3.3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#compiler-errors"><i class="fa fa-check"></i><b>3.3</b> Compiler errors</a></li>
<li class="chapter" data-level="3.4" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#troubleshooting-c-compiler-or-linker-errors"><i class="fa fa-check"></i><b>3.4</b> Troubleshooting C++ compiler or linker errors</a></li>
<li class="chapter" data-level="3.5" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#c-compilation-and-linking-flags"><i class="fa fa-check"></i><b>3.5</b> C++ compilation and linking flags</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#optimizing-by-ignoring-range-checks"><i class="fa fa-check"></i><b>3.5.1</b> Optimizing by ignoring range checks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mcmc-intro.html"><a href="mcmc-intro.html"><i class="fa fa-check"></i><b>4</b> MCMC Sampling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mcmc-intro.html"><a href="mcmc-intro.html#running-the-sampler"><i class="fa fa-check"></i><b>4.1</b> Running the sampler</a></li>
<li class="chapter" data-level="4.2" data-path="mcmc-intro.html"><a href="mcmc-intro.html#running-multiple-chains"><i class="fa fa-check"></i><b>4.2</b> Running multiple chains</a></li>
<li class="chapter" data-level="4.3" data-path="mcmc-intro.html"><a href="mcmc-intro.html#mcmc_output_csv"><i class="fa fa-check"></i><b>4.3</b> Stan CSV output file</a></li>
<li class="chapter" data-level="4.4" data-path="mcmc-intro.html"><a href="mcmc-intro.html#summarizing-sampler-outputs-with-stansummary"><i class="fa fa-check"></i><b>4.4</b> Summarizing sampler output(s) with <code>stansummary</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>5</b> Optimization</a></li>
<li class="chapter" data-level="6" data-path="variational-inference.html"><a href="variational-inference.html"><i class="fa fa-check"></i><b>6</b> Variational Inference</a></li>
<li class="chapter" data-level="7" data-path="gc-intro.html"><a href="gc-intro.html"><i class="fa fa-check"></i><b>7</b> Generating Quantities of Interest from a Fitted Model</a></li>
<li><a href="reference-manual.html#reference-manual"><i style='font-size: 110%; color:#990017;'>Reference Manual</i></a></li>
<li class="chapter" data-level="8" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html"><i class="fa fa-check"></i><b>8</b> Command-Line Interface Overview</a>
<ul>
<li class="chapter" data-level="8.1" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#input-data-argument"><i class="fa fa-check"></i><b>8.1</b> Input data argument</a></li>
<li class="chapter" data-level="8.2" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#output-control-arguments"><i class="fa fa-check"></i><b>8.2</b> Output control arguments</a></li>
<li class="chapter" data-level="8.3" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#initialize-model-parameters-argument"><i class="fa fa-check"></i><b>8.3</b> Initialize model parameters argument</a></li>
<li class="chapter" data-level="8.4" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#random-number-generator-arguments"><i class="fa fa-check"></i><b>8.4</b> Random number generator arguments</a></li>
<li class="chapter" data-level="8.5" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#chain-identifier-argument-id"><i class="fa fa-check"></i><b>8.5</b> Chain identifier argument: <code>id</code></a></li>
<li class="chapter" data-level="8.6" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#command-line-help"><i class="fa fa-check"></i><b>8.6</b> Command line help</a></li>
<li class="chapter" data-level="8.7" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#error-messages-and-return-codes"><i class="fa fa-check"></i><b>8.7</b> Error messages and return codes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mcmc-config.html"><a href="mcmc-config.html"><i class="fa fa-check"></i><b>9</b> MCMC Sampling using Hamiltonian Monte Carlo</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mcmc-config.html"><a href="mcmc-config.html#iterations"><i class="fa fa-check"></i><b>9.1</b> Iterations</a></li>
<li class="chapter" data-level="9.2" data-path="mcmc-config.html"><a href="mcmc-config.html#adaptation"><i class="fa fa-check"></i><b>9.2</b> Adaptation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="mcmc-config.html"><a href="mcmc-config.html#step-size-optimization-configuration"><i class="fa fa-check"></i><b>9.2.1</b> Step size optimization configuration</a></li>
<li class="chapter" data-level="9.2.2" data-path="mcmc-config.html"><a href="mcmc-config.html#warmup-schedule-configuration"><i class="fa fa-check"></i><b>9.2.2</b> Warmup schedule configuration</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="mcmc-config.html"><a href="mcmc-config.html#algorithm"><i class="fa fa-check"></i><b>9.3</b> Algorithm</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="mcmc-config.html"><a href="mcmc-config.html#samples-from-a-set-of-fixed-parameters"><i class="fa fa-check"></i><b>9.3.1</b> Samples from a set of fixed parameters</a></li>
<li class="chapter" data-level="9.3.2" data-path="mcmc-config.html"><a href="mcmc-config.html#hmc-samplers"><i class="fa fa-check"></i><b>9.3.2</b> HMC samplers</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="mcmc-config.html"><a href="mcmc-config.html#sampler-diag-file"><i class="fa fa-check"></i><b>9.4</b> Sampler diagnostic file</a></li>
<li class="chapter" data-level="9.5" data-path="mcmc-config.html"><a href="mcmc-config.html#examples"><i class="fa fa-check"></i><b>9.5</b> Examples</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="mcmc-config.html"><a href="mcmc-config.html#running-multiple-chains-with-a-specified-rng-seed"><i class="fa fa-check"></i><b>9.5.1</b> Running multiple chains with a specified RNG seed</a></li>
<li class="chapter" data-level="9.5.2" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-default-warmup-and-sampling-iterations"><i class="fa fa-check"></i><b>9.5.2</b> Changing the default warmup and sampling iterations</a></li>
<li class="chapter" data-level="9.5.3" data-path="mcmc-config.html"><a href="mcmc-config.html#saving-warmup-draws"><i class="fa fa-check"></i><b>9.5.3</b> Saving warmup draws</a></li>
<li class="chapter" data-level="9.5.4" data-path="mcmc-config.html"><a href="mcmc-config.html#initializing-parameters"><i class="fa fa-check"></i><b>9.5.4</b> Initializing parameters</a></li>
<li class="chapter" data-level="9.5.5" data-path="mcmc-config.html"><a href="mcmc-config.html#specifying-the-metric-and-stepsize"><i class="fa fa-check"></i><b>9.5.5</b> Specifying the metric and stepsize</a></li>
<li class="chapter" data-level="9.5.6" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-nuts-hmc-adaptation-parameters"><i class="fa fa-check"></i><b>9.5.6</b> Changing the NUTS-HMC adaptation parameters</a></li>
<li class="chapter" data-level="9.5.7" data-path="mcmc-config.html"><a href="mcmc-config.html#increasing-the-tree-depth"><i class="fa fa-check"></i><b>9.5.7</b> Increasing the tree-depth</a></li>
<li class="chapter" data-level="9.5.8" data-path="mcmc-config.html"><a href="mcmc-config.html#capturing-hamiltonian-diagnostics-and-gradients"><i class="fa fa-check"></i><b>9.5.8</b> Capturing Hamiltonian diagnostics and gradients</a></li>
<li class="chapter" data-level="9.5.9" data-path="mcmc-config.html"><a href="mcmc-config.html#suppressing-progress-updates-to-the-console"><i class="fa fa-check"></i><b>9.5.9</b> Suppressing progress updates to the console</a></li>
<li class="chapter" data-level="9.5.10" data-path="mcmc-config.html"><a href="mcmc-config.html#everything-example"><i class="fa fa-check"></i><b>9.5.10</b> Everything example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html"><i class="fa fa-check"></i><b>10</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#optimization-algorithms"><i class="fa fa-check"></i><b>10.1</b> Optimization algorithms</a></li>
<li class="chapter" data-level="10.2" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-quasi-newton-optimizers"><i class="fa fa-check"></i><b>10.2</b> The quasi-Newton optimizers</a></li>
<li class="chapter" data-level="10.3" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-newton-optimizer"><i class="fa fa-check"></i><b>10.3</b> The Newton optimizer</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html"><i class="fa fa-check"></i><b>11</b> Variational Inference Algorithm: ADVI</a>
<ul>
<li class="chapter" data-level="11.1" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#variational-algorithms"><i class="fa fa-check"></i><b>11.1</b> Variational algorithms</a></li>
<li class="chapter" data-level="11.2" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#configuration"><i class="fa fa-check"></i><b>11.2</b> Configuration</a></li>
<li class="chapter" data-level="11.3" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#csv-output"><i class="fa fa-check"></i><b>11.3</b> CSV output</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="standalone-generate-quantities.html"><a href="standalone-generate-quantities.html"><i class="fa fa-check"></i><b>12</b> Standalone Generate Quantities</a></li>
<li class="chapter" data-level="13" data-path="diagnosing-hmc-by-comparison-of-gradients.html"><a href="diagnosing-hmc-by-comparison-of-gradients.html"><i class="fa fa-check"></i><b>13</b> Diagnosing HMC by Comparison of Gradients</a></li>
<li class="chapter" data-level="14" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>14</b> Parallelization</a>
<ul>
<li class="chapter" data-level="14.1" data-path="parallelization.html"><a href="parallelization.html#multi-threading-with-tbb"><i class="fa fa-check"></i><b>14.1</b> Multi-threading with TBB</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="parallelization.html"><a href="parallelization.html#compiling"><i class="fa fa-check"></i><b>14.1.1</b> Compiling</a></li>
<li class="chapter" data-level="14.1.2" data-path="parallelization.html"><a href="parallelization.html#running"><i class="fa fa-check"></i><b>14.1.2</b> Running</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="parallelization.html"><a href="parallelization.html#multi-processing-with-mpi"><i class="fa fa-check"></i><b>14.2</b> Multi-processing with MPI</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="parallelization.html"><a href="parallelization.html#dependencies-1"><i class="fa fa-check"></i><b>14.2.1</b> Dependencies</a></li>
<li class="chapter" data-level="14.2.2" data-path="parallelization.html"><a href="parallelization.html#compiling-1"><i class="fa fa-check"></i><b>14.2.2</b> Compiling</a></li>
<li class="chapter" data-level="14.2.3" data-path="parallelization.html"><a href="parallelization.html#running-1"><i class="fa fa-check"></i><b>14.2.3</b> Running</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="parallelization.html"><a href="parallelization.html#opencl"><i class="fa fa-check"></i><b>14.3</b> OpenCL</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="parallelization.html"><a href="parallelization.html#dependencies-2"><i class="fa fa-check"></i><b>14.3.1</b> Dependencies</a></li>
<li class="chapter" data-level="14.3.2" data-path="parallelization.html"><a href="parallelization.html#compiling-2"><i class="fa fa-check"></i><b>14.3.2</b> Compiling</a></li>
<li class="chapter" data-level="14.3.3" data-path="parallelization.html"><a href="parallelization.html#running-2"><i class="fa fa-check"></i><b>14.3.3</b> Running</a></li>
</ul></li>
</ul></li>
<li><a href="cmdstan-tools.html#cmdstan-tools"><i style='font-size: 110%; color:#990017;'>CmdStan Tools</i></a></li>
<li class="chapter" data-level="15" data-path="stanc.html"><a href="stanc.html"><i class="fa fa-check"></i><b>15</b> <code>stanc</code>: Translating Stan to C++</a>
<ul>
<li class="chapter" data-level="15.1" data-path="stanc.html"><a href="stanc.html#instantiating-the-stanc-binary"><i class="fa fa-check"></i><b>15.1</b> Instantiating the <code>stanc</code> binary</a></li>
<li class="chapter" data-level="15.2" data-path="stanc.html"><a href="stanc.html#the-stan-compiler-program"><i class="fa fa-check"></i><b>15.2</b> The Stan compiler program</a></li>
<li class="chapter" data-level="15.3" data-path="stanc.html"><a href="stanc.html#command-line-options-for-stanc3"><i class="fa fa-check"></i><b>15.3</b> Command-line options for stanc3</a></li>
<li class="chapter" data-level="15.4" data-path="stanc.html"><a href="stanc.html#command-line-options-for-stanc2"><i class="fa fa-check"></i><b>15.4</b> Command-line options for stanc2</a></li>
<li class="chapter" data-level="15.5" data-path="stanc.html"><a href="stanc.html#using-external-c-code"><i class="fa fa-check"></i><b>15.5</b> Using external C++ code</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="stansummary.html"><a href="stansummary.html"><i class="fa fa-check"></i><b>16</b> <code>stansummary</code>: MCMC Output Analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="stansummary.html"><a href="stansummary.html#building-the-stansummary-command"><i class="fa fa-check"></i><b>16.1</b> Building the stansummary command</a></li>
<li class="chapter" data-level="16.2" data-path="stansummary.html"><a href="stansummary.html#running-the-stansummary-program"><i class="fa fa-check"></i><b>16.2</b> Running the <code>stansummary</code> program</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="stansummary.html"><a href="stansummary.html#sampler-parameters"><i class="fa fa-check"></i><b>16.2.1</b> Sampler parameters</a></li>
<li class="chapter" data-level="16.2.2" data-path="stansummary.html"><a href="stansummary.html#model-parameters-and-quantities-of-interest"><i class="fa fa-check"></i><b>16.2.2</b> Model parameters and quantities of interest</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="stansummary.html"><a href="stansummary.html#command-line-options"><i class="fa fa-check"></i><b>16.3</b> Command-line options</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="diagnose.html"><a href="diagnose.html"><i class="fa fa-check"></i><b>17</b> <code>diagnose</code>: Diagnosing Biased Hamiltonian Monte Carlo Inferences</a>
<ul>
<li class="chapter" data-level="17.1" data-path="diagnose.html"><a href="diagnose.html#building-the-diagnose-command"><i class="fa fa-check"></i><b>17.1</b> Building the diagnose command</a></li>
<li class="chapter" data-level="17.2" data-path="diagnose.html"><a href="diagnose.html#running-the-diagnose-command"><i class="fa fa-check"></i><b>17.2</b> Running the diagnose command</a></li>
<li class="chapter" data-level="17.3" data-path="diagnose.html"><a href="diagnose.html#diagnose-warnings-and-recommendations"><i class="fa fa-check"></i><b>17.3</b> <code>diagnose</code> warnings and recommendations</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="diagnose.html"><a href="diagnose.html#divergent-transitions-after-warmup"><i class="fa fa-check"></i><b>17.3.1</b> Divergent transitions after warmup</a></li>
<li class="chapter" data-level="17.3.2" data-path="diagnose.html"><a href="diagnose.html#maximum-treedepth-exceeded"><i class="fa fa-check"></i><b>17.3.2</b> Maximum treedepth exceeded</a></li>
<li class="chapter" data-level="17.3.3" data-path="diagnose.html"><a href="diagnose.html#low-e-bfmi-values---sampler-transitions-hmc-potential-energy."><i class="fa fa-check"></i><b>17.3.3</b> Low E-BFMI values - sampler transitions HMC potential energy.</a></li>
<li class="chapter" data-level="17.3.4" data-path="diagnose.html"><a href="diagnose.html#low-effective-sample-sizes"><i class="fa fa-check"></i><b>17.3.4</b> Low effective sample sizes</a></li>
<li class="chapter" data-level="17.3.5" data-path="diagnose.html"><a href="diagnose.html#high-hatr"><i class="fa fa-check"></i><b>17.3.5</b> High <span class="math inline">\(\hat{R}\)</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="print-deprecated-mcmc-output-analysis.html"><a href="print-deprecated-mcmc-output-analysis.html"><i class="fa fa-check"></i><b>18</b> <code>print</code> (deprecated): MCMC Output Analysis</a></li>
<li><a href="appendices.html#appendices"><i style='font-size: 110%; color:#990017;'>Appendices</i></a></li>
<li class="chapter" data-level="19" data-path="stan-csv.html"><a href="stan-csv.html"><i class="fa fa-check"></i><b>19</b> Stan CSV File Format</a>
<ul>
<li class="chapter" data-level="19.1" data-path="stan-csv.html"><a href="stan-csv.html#csv-column-names-and-order"><i class="fa fa-check"></i><b>19.1</b> CSV column names and order</a></li>
<li class="chapter" data-level="19.2" data-path="stan-csv.html"><a href="stan-csv.html#mcmc-sampler-csv-output"><i class="fa fa-check"></i><b>19.2</b> MCMC sampler CSV output</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="stan-csv.html"><a href="stan-csv.html#sampler-stan-csv-output-file"><i class="fa fa-check"></i><b>19.2.1</b> Sampler Stan CSV output file</a></li>
<li class="chapter" data-level="19.2.2" data-path="stan-csv.html"><a href="stan-csv.html#diagnostic-csv-output-file"><i class="fa fa-check"></i><b>19.2.2</b> Diagnostic CSV output file</a></li>
<li class="chapter" data-level="19.2.3" data-path="stan-csv.html"><a href="stan-csv.html#profiling-csv-output-file"><i class="fa fa-check"></i><b>19.2.3</b> Profiling CSV output file</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="stan-csv.html"><a href="stan-csv.html#optimization-output"><i class="fa fa-check"></i><b>19.3</b> Optimization output</a></li>
<li class="chapter" data-level="19.4" data-path="stan-csv.html"><a href="stan-csv.html#variational-inference-output"><i class="fa fa-check"></i><b>19.4</b> Variational inference output</a></li>
<li class="chapter" data-level="19.5" data-path="stan-csv.html"><a href="stan-csv.html#generate-quantities-outputs"><i class="fa fa-check"></i><b>19.5</b> Generate quantities outputs</a></li>
<li class="chapter" data-level="19.6" data-path="stan-csv.html"><a href="stan-csv.html#diagnose-method-outputs"><i class="fa fa-check"></i><b>19.6</b> Diagnose method outputs</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="json.html"><a href="json.html"><i class="fa fa-check"></i><b>20</b> JSON Format for CmdStan</a>
<ul>
<li class="chapter" data-level="20.1" data-path="json.html"><a href="json.html#creating-json-files"><i class="fa fa-check"></i><b>20.1</b> Creating JSON files</a></li>
<li class="chapter" data-level="20.2" data-path="json.html"><a href="json.html#json-syntax-summary"><i class="fa fa-check"></i><b>20.2</b> JSON syntax summary</a></li>
<li class="chapter" data-level="20.3" data-path="json.html"><a href="json.html#stan-data-types-in-json-notation"><i class="fa fa-check"></i><b>20.3</b> Stan data types in JSON notation</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="json.html"><a href="json.html#empty-arrays-in-json"><i class="fa fa-check"></i><b>20.3.1</b> Empty arrays in JSON</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="rdump.html"><a href="rdump.html"><i class="fa fa-check"></i><b>21</b> RDump Format for CmdStan</a>
<ul>
<li class="chapter" data-level="21.1" data-path="rdump.html"><a href="rdump.html#creating-dump-files"><i class="fa fa-check"></i><b>21.1</b> Creating dump files</a></li>
<li class="chapter" data-level="21.2" data-path="rdump.html"><a href="rdump.html#scalar-variables"><i class="fa fa-check"></i><b>21.2</b> Scalar variables</a></li>
<li class="chapter" data-level="21.3" data-path="rdump.html"><a href="rdump.html#sequence-variables"><i class="fa fa-check"></i><b>21.3</b> Sequence variables</a></li>
<li class="chapter" data-level="21.4" data-path="rdump.html"><a href="rdump.html#array-variables"><i class="fa fa-check"></i><b>21.4</b> Array variables</a></li>
<li class="chapter" data-level="21.5" data-path="rdump.html"><a href="rdump.html#matrix--and-vector-valued-variables"><i class="fa fa-check"></i><b>21.5</b> Matrix- and vector-valued variables</a>
<ul>
<li class="chapter" data-level="21.5.1" data-path="rdump.html"><a href="rdump.html#vector-dump-format"><i class="fa fa-check"></i><b>21.5.1</b> Vector dump format</a></li>
<li class="chapter" data-level="21.5.2" data-path="rdump.html"><a href="rdump.html#matrix-dump-format"><i class="fa fa-check"></i><b>21.5.2</b> Matrix dump format</a></li>
<li class="chapter" data-level="21.5.3" data-path="rdump.html"><a href="rdump.html#arrays-of-vectors-and-matrices"><i class="fa fa-check"></i><b>21.5.3</b> Arrays of vectors and matrices</a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="rdump.html"><a href="rdump.html#integer--and-real-valued-variables"><i class="fa fa-check"></i><b>21.6</b> Integer- and real-valued variables</a>
<ul>
<li class="chapter" data-level="21.6.1" data-path="rdump.html"><a href="rdump.html#scientific-notation"><i class="fa fa-check"></i><b>21.6.1</b> Scientific notation</a></li>
<li class="chapter" data-level="21.6.2" data-path="rdump.html"><a href="rdump.html#infinite-and-not-a-number-values"><i class="fa fa-check"></i><b>21.6.2</b> Infinite and not-a-number values</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="rdump.html"><a href="rdump.html#quoted-variable-names"><i class="fa fa-check"></i><b>21.7</b> Quoted variable names</a></li>
<li class="chapter" data-level="21.8" data-path="rdump.html"><a href="rdump.html#line-breaks"><i class="fa fa-check"></i><b>21.8</b> Line breaks</a></li>
<li class="chapter" data-level="21.9" data-path="rdump.html"><a href="rdump.html#bnf-grammar-for-dump-data"><i class="fa fa-check"></i><b>21.9</b> BNF grammar for dump data</a></li>
</ul></li>
<li><a href="bibliography.html#bibliography"><i style='font-size: 110%; color:#990017;'>Bibliography</i></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CmdStan User’s Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">

<div>
This is an old version, <a href="https://mc-stan.org/docs/cmdstan-guide/json_apdx.html#creating-json-files">view current version</a>.
</div>
<div id="json" class="section level1" number="20">
<h1><span class="header-section-number">20</span> JSON Format for CmdStan</h1>
<p>CmdStan can use JSON format for input data for both model data and
parameters. Model data is read in by the model constructor. Model
parameters are used to initialize the sampler and optimizer.</p>
<div id="creating-json-files" class="section level2" number="20.1">
<h2><span class="header-section-number">20.1</span> Creating JSON files</h2>
<p>You can create the JSON file yourself using the guidelines below, but a more
convenient way to create a JSON file for use with CmdStan is to use the
<a href="https://mc-stan.org/cmdstanr/reference/write_stan_json"><code>write_stan_json()</code></a>
function provided by the CmdStanR interface.</p>
</div>
<div id="json-syntax-summary" class="section level2" number="20.2">
<h2><span class="header-section-number">20.2</span> JSON syntax summary</h2>
<p>JSON is a data interchange notation, defined by an
. JSON data files must in Unicode. JSON data is a series of
structural tokens, literal tokens, and values:</p>
<ul>
<li><p>Structural tokens are the left and right curly bracket <code>{}</code>, left and right
square bracket <code>[]</code>, the semicolon <code>;</code>, and the comma <code>,</code>.</p></li>
<li><p>Literal tokens must always be in lowercase.
There are three literal tokens: <code>true</code>, <code>false</code>, <code>null</code>.</p></li>
<li><p>A primitive value is a single token which is
either a literal, a string, or a number.</p></li>
<li><p>A string consists of zero or more Unicode characters
enclosed in double quotes, e.g. <code>"foo"</code>.
A backslash is used to escape the double quote
character as well as the backslash itself.
JSON allows the use of
Unicode character escapes, e.g. <code>"\\uHHHH"</code> where <code>HHHH</code>
is the Unicode code point in hex.</p></li>
<li><p>All numbers are decimal numbers. Scientific notation is allowed.
The following are examples of numbers:
<code>17</code>, <code>17.2</code>, <code>-17.2</code>, <code>-17.2e8</code>, <code>17.2e-8</code>. <br>
<em>Note:</em> The concepts of positive and negative infinity as well as
“not a number” cannot be expressed as numbers in JSON, but they can
be encoded as strings <code>"+inf"</code>, <code>"-inf"</code>, and <code>"NaN"</code>, respectively,
which can be mixed with numbers.</p></li>
<li><p>A JSON array is an ordered, comma-separated list of zero or more
JSON values enclosed in square brackets. The elements of an array
can be of any type. The following are examples of arrays:
<code>[]</code>, <code>[1]</code>, <code>[0.2, "-inf", true]</code>.</p></li>
<li><p>A name-value pair consists of a string followed by a colon followed by a
value, either primitive or compound.</p></li>
<li><p>A JSON object is a comma-separated series of zero or more
name-value pairs enclosed in curly brackets.
Each name-value pair is a member of the object.
Membership is unordered. Member names are not required to be unique.
The following are examples of objects:
<code>{ }</code>, <code>{"foo": null}</code>, <code>{"bar" : 17, "baz" : [14,15,16.6] }</code>.</p></li>
</ul>
</div>
<div id="stan-data-types-in-json-notation" class="section level2" number="20.3">
<h2><span class="header-section-number">20.3</span> Stan data types in JSON notation</h2>
<p>Stan follows the JSON standard. A Stan input file in JSON notation
consists of single JSON object which contains zero or more name-value pairs.
This structure corresponds to a Python data dictionary object.
The following is an example of JSON data for the simple Bernoulli example
model:</p>
<pre><code>{ &quot;N&quot; : 10, &quot;y&quot; : [0,1,0,0,0,0,0,0,0,1] }</code></pre>
<p>Matrix data and multi-dimensional arrays are indexed in row-major order.
For a Stan program which has data block:</p>
<pre><code>data {
  int d1;
  int d2;
  int d3;
  int ar[d1, d2, d3];
}</code></pre>
<p>the following JSON input would be valid:</p>
<pre><code>{ &quot;d1&quot; : 2,
  &quot;d2&quot; : 3,
  &quot;d3&quot; : 4,
  &quot;ar&quot; : [[[0,1,2,3], [4,5,6,7], [8,9,10,11]],
          [[12,13,14,15], [16,17,18,19], [20,21,22,23]]]
}</code></pre>
<p>JSON ignores whitespace. In the above examples, the spaces and newlines are
only used to improve readability and can be omitted.</p>
<p>All data inputs are encoded as name-value pairs. The following table
provides more examples of JSON data. The left column contains a Stan
data variable declaration and the right column contains valid JSON
data inputs.</p>
<table>
<thead>
<tr class="header">
<th align="right">Stan variable</th>
<th align="center">JSON data</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>int i</code></td>
<td align="center"><code>"i": 17</code></td>
</tr>
<tr class="even">
<td align="right"><code>real a</code></td>
<td align="center"><code>"a" : 17</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="center"><code>"a" : 17.2</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="center"><code>"a" : "NaN"</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="center"><code>"a" : "+inf"</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="center"><code>"a" : "-inf"</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="right"><code>int a[5]</code></td>
<td align="center"><code>"a" : [1, 2, 3, 4, 5]</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="right"><code>real a[5]</code></td>
<td align="center"><code>"a" : [ 1, 2, 3.3, "NaN", 5 ]</code></td>
</tr>
<tr class="odd">
<td align="right"><code>vector[5] a</code></td>
<td align="center"><code>"a" : [ 1, 2, 3.3, "NaN", 5 ]</code></td>
</tr>
<tr class="even">
<td align="right"><code>row_vector[5] a</code></td>
<td align="center"><code>"a" : [ 1, 2, 3.3, "NaN", 5 ]</code></td>
</tr>
<tr class="odd">
<td align="right"><code>real a[5]</code></td>
<td align="center"><code>"a" : [ 1, 2, 3.3, "NaN", 5 ]</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="right"><code>matrix[2,3] a</code></td>
<td align="center"><code>"a" : [ [ 1, 2, 3 ], [ 4, 5, 6] ]</code></td>
</tr>
</tbody>
</table>
<div id="empty-arrays-in-json" class="section level3" number="20.3.1">
<h3><span class="header-section-number">20.3.1</span> Empty arrays in JSON</h3>
<p>JSON notation is not able to distinguish between multi-dimensional
arrays where any dimension is <span class="math inline">\(0\)</span>, e.g., a 2-D array with dimensions <span class="math inline">\((1,0)\)</span>,
i.e., an array which contains a single array which is empty,
has JSON representation <code>[ ]</code>.
To see how this works, consider the following Stan program data block:</p>
<pre><code>data {
  int d;
  int ar_1d[d];
  int ar_2d[d,d];
  int ar_3d[d,d,d];
}</code></pre>
<p>In the case where variable <code>d</code> is <code>1</code>, all arrays will contain a single value.
If array variable <code>ar_d1</code> contains value <code>7</code>,
2-D array variable <code>ar_d2</code> contains (an array which contains) value <code>8</code>,
and 3-D array variable <code>ar_d3</code> contains (an array which contains an array which contains) value <code>9</code>,
the JSON representation is:</p>
<pre><code>{ &quot;ar_d1&quot; : [7],
  &quot;ar_d2&quot; : [[8]],
  &quot;ar_d3&quot; : [[[9]]]
}</code></pre>
<p>However, in the case where variable <code>d</code> is <code>0</code>,
<code>ar_d1</code> is empty, i.e., it contains no values,
as is <code>ar_d2</code>, <code>ar_d3</code>,
and the JSON representation is</p>
<pre><code>{ &quot;d&quot; : 0,
  &quot;ar_d1&quot; : [ ],
  &quot;ar_d2&quot; : [ ],
  &quot;ar_d3&quot; : [ ]
}</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stan-csv.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rdump.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true,
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
