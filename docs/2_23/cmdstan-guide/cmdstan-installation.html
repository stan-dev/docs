<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 CmdStan Installation | CmdStan User’s Guide</title>
  <meta name="description" content="CmdStan user’s guide." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="1 CmdStan Installation | CmdStan User’s Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="img/logo-tm.pdf" />
  <meta property="og:description" content="CmdStan user’s guide." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 CmdStan Installation | CmdStan User’s Guide" />
  
  <meta name="twitter:description" content="CmdStan user’s guide." />
  <meta name="twitter:image" content="img/logo-tm.pdf" />

<meta name="author" content="Stan Development Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="quickstart-guide.html"/>
<link rel="next" href="example-model-and-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="stan-manual.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="font-size:110%; font-weight:400; font-family: Verdana, Helvetica, sans; line-height:1.4; margin: 0.5em 0 0 1em"><a href="https://mc-stan.org/docs/cmdstan-guide/index.html" style="color:#4183C4">CmdStan User's Guide</a></li>

<li class="divider"></li>
<li><a href="index.html#introduction"><i style='font-size: 110%; color:#990017;'>Introduction</i></a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Stan Home Page</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licensing"><i class="fa fa-check"></i>Licensing</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#stan-documentation-users-guide-and-reference-manuals"><i class="fa fa-check"></i>Stan Documentation: User’s Guide and Reference Manuals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#benefits-of-cmdstan"><i class="fa fa-check"></i>Benefits of CmdStan</a></li>
</ul></li>
<li><a href="quickstart-guide.html#quickstart-guide"><i style='font-size: 110%; color:#990017;'>QuickStart Guide</i></a></li>
<li class="chapter" data-level="1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html"><i class="fa fa-check"></i><b>1</b> CmdStan Installation</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#gnu-make-utility"><i class="fa fa-check"></i><b>1.1</b> GNU-Make Utility</a></li>
<li class="chapter" data-level="1.2" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#building-cmdstan"><i class="fa fa-check"></i><b>1.2</b> Building CmdStan</a></li>
<li class="chapter" data-level="1.3" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#git-clone.section"><i class="fa fa-check"></i><b>1.3</b> Clone the GitHub CmdStan Repository</a></li>
<li class="chapter" data-level="1.4" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#trouble-shooting-the-installation"><i class="fa fa-check"></i><b>1.4</b> Trouble-shooting the installation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-model-and-data.html"><a href="example-model-and-data.html"><i class="fa fa-check"></i><b>2</b> Example Model and Data</a></li>
<li class="chapter" data-level="3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html"><i class="fa fa-check"></i><b>3</b> Compiling a Stan Program</a>
<ul>
<li class="chapter" data-level="3.1" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#invoking-the-make-utility"><i class="fa fa-check"></i><b>3.1</b> Invoking the Make Utility</a></li>
<li class="chapter" data-level="3.2" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#dependencies"><i class="fa fa-check"></i><b>3.2</b> Dependencies</a></li>
<li class="chapter" data-level="3.3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#compiler-errors"><i class="fa fa-check"></i><b>3.3</b> Compiler Errors</a></li>
<li class="chapter" data-level="3.4" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#troubleshooting"><i class="fa fa-check"></i><b>3.4</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mcmc-intro.html"><a href="mcmc-intro.html"><i class="fa fa-check"></i><b>4</b> MCMC Sampling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mcmc-intro.html"><a href="mcmc-intro.html#running-the-sampler"><i class="fa fa-check"></i><b>4.1</b> Running the Sampler</a></li>
<li class="chapter" data-level="4.2" data-path="mcmc-intro.html"><a href="mcmc-intro.html#running-multiple-chains"><i class="fa fa-check"></i><b>4.2</b> Running Multiple Chains</a></li>
<li class="chapter" data-level="4.3" data-path="mcmc-intro.html"><a href="mcmc-intro.html#stan-csv-output-file"><i class="fa fa-check"></i><b>4.3</b> Stan CSV Output File</a></li>
<li class="chapter" data-level="4.4" data-path="mcmc-intro.html"><a href="mcmc-intro.html#summarizing-sampler-outputs-with-stansummary"><i class="fa fa-check"></i><b>4.4</b> Summarizing Sampler Output(s) with <code>stansummary</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>5</b> Optimization</a></li>
<li class="chapter" data-level="6" data-path="variational-inference.html"><a href="variational-inference.html"><i class="fa fa-check"></i><b>6</b> Variational Inference</a></li>
<li class="chapter" data-level="7" data-path="generating-quantities-of-interest-from-a-fitted-model.html"><a href="generating-quantities-of-interest-from-a-fitted-model.html"><i class="fa fa-check"></i><b>7</b> Generating Quantities of Interest from a Fitted Model</a></li>
<li><a href="cmdstan-reference.html#cmdstan-reference"><i style='font-size: 110%; color:#990017;'>CmdStan Reference</i></a></li>
<li class="chapter" data-level="8" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html"><i class="fa fa-check"></i><b>8</b> Command-Line Interface Overview</a>
<ul>
<li class="chapter" data-level="8.1" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#input-data-argument"><i class="fa fa-check"></i><b>8.1</b> Input Data Argument</a></li>
<li class="chapter" data-level="8.2" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#output-control-arguments"><i class="fa fa-check"></i><b>8.2</b> Output Control Arguments</a></li>
<li class="chapter" data-level="8.3" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#initialize-model-parameters-argument"><i class="fa fa-check"></i><b>8.3</b> Initialize Model Parameters Argument</a></li>
<li class="chapter" data-level="8.4" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#random-number-generator-arguments"><i class="fa fa-check"></i><b>8.4</b> Random Number Generator Arguments</a></li>
<li class="chapter" data-level="8.5" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#chain-identifier-argument-id"><i class="fa fa-check"></i><b>8.5</b> Chain Identifier Argument: <code>id</code></a></li>
<li class="chapter" data-level="8.6" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#command-line-help"><i class="fa fa-check"></i><b>8.6</b> Command Line Help</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mcmc-config.html"><a href="mcmc-config.html"><i class="fa fa-check"></i><b>9</b> MCMC Sampling using Hamiltonian Monte Carlo</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mcmc-config.html"><a href="mcmc-config.html#iterations"><i class="fa fa-check"></i><b>9.1</b> Iterations</a></li>
<li class="chapter" data-level="9.2" data-path="mcmc-config.html"><a href="mcmc-config.html#adaptation"><i class="fa fa-check"></i><b>9.2</b> Adaptation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="mcmc-config.html"><a href="mcmc-config.html#step-size-optimization-configuration"><i class="fa fa-check"></i><b>9.2.1</b> Step size optimization configuration</a></li>
<li class="chapter" data-level="9.2.2" data-path="mcmc-config.html"><a href="mcmc-config.html#warmup-schedule-configuration"><i class="fa fa-check"></i><b>9.2.2</b> Warmup schedule configuration</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="mcmc-config.html"><a href="mcmc-config.html#algorithm"><i class="fa fa-check"></i><b>9.3</b> Algorithm</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="mcmc-config.html"><a href="mcmc-config.html#samples-from-a-set-of-fixed-parameters"><i class="fa fa-check"></i><b>9.3.1</b> Samples from a set of fixed parameters</a></li>
<li class="chapter" data-level="9.3.2" data-path="mcmc-config.html"><a href="mcmc-config.html#hmc-samplers"><i class="fa fa-check"></i><b>9.3.2</b> HMC samplers</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="mcmc-config.html"><a href="mcmc-config.html#sampler-diagnostic-file"><i class="fa fa-check"></i><b>9.4</b> Sampler Diagnostic File</a></li>
<li class="chapter" data-level="9.5" data-path="mcmc-config.html"><a href="mcmc-config.html#examples"><i class="fa fa-check"></i><b>9.5</b> Examples</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="mcmc-config.html"><a href="mcmc-config.html#running-multiple-chains-with-a-specified-rng-seed"><i class="fa fa-check"></i><b>9.5.1</b> Running multiple chains with a specified RNG seed</a></li>
<li class="chapter" data-level="9.5.2" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-default-warmup-and-sampling-iterations"><i class="fa fa-check"></i><b>9.5.2</b> Changing the default warmup and sampling iterations</a></li>
<li class="chapter" data-level="9.5.3" data-path="mcmc-config.html"><a href="mcmc-config.html#saving-warmup-draws"><i class="fa fa-check"></i><b>9.5.3</b> Saving warmup draws</a></li>
<li class="chapter" data-level="9.5.4" data-path="mcmc-config.html"><a href="mcmc-config.html#initializing-parameters"><i class="fa fa-check"></i><b>9.5.4</b> Initializing parameters</a></li>
<li class="chapter" data-level="9.5.5" data-path="mcmc-config.html"><a href="mcmc-config.html#specifying-the-metric-and-stepsize"><i class="fa fa-check"></i><b>9.5.5</b> Specifying the metric and stepsize</a></li>
<li class="chapter" data-level="9.5.6" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-nuts-hmc-adaptation-parameters"><i class="fa fa-check"></i><b>9.5.6</b> Changing the NUTS-HMC adaptation parameters</a></li>
<li class="chapter" data-level="9.5.7" data-path="mcmc-config.html"><a href="mcmc-config.html#increasing-the-tree-depth"><i class="fa fa-check"></i><b>9.5.7</b> Increasing the tree-depth</a></li>
<li class="chapter" data-level="9.5.8" data-path="mcmc-config.html"><a href="mcmc-config.html#capturing-hamiltonian-diagnostics-and-gradients"><i class="fa fa-check"></i><b>9.5.8</b> Capturing Hamiltonian diagnostics and gradients</a></li>
<li class="chapter" data-level="9.5.9" data-path="mcmc-config.html"><a href="mcmc-config.html#suppressing-progress-updates-to-the-console"><i class="fa fa-check"></i><b>9.5.9</b> Suppressing progress updates to the console</a></li>
<li class="chapter" data-level="9.5.10" data-path="mcmc-config.html"><a href="mcmc-config.html#everything-example"><i class="fa fa-check"></i><b>9.5.10</b> Everything Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html"><i class="fa fa-check"></i><b>10</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#optimization-algorithms"><i class="fa fa-check"></i><b>10.1</b> Optimization Algorithms</a></li>
<li class="chapter" data-level="10.2" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-quasi-newton-optimizers"><i class="fa fa-check"></i><b>10.2</b> The quasi-Newton optimizers</a></li>
<li class="chapter" data-level="10.3" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-newton-optimizer"><i class="fa fa-check"></i><b>10.3</b> The Newton optimizer</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html"><i class="fa fa-check"></i><b>11</b> Variational Inference Algorithm: ADVI</a>
<ul>
<li class="chapter" data-level="11.1" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#variational-algorithms"><i class="fa fa-check"></i><b>11.1</b> Variational Algorithms</a></li>
<li class="chapter" data-level="11.2" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#configuration"><i class="fa fa-check"></i><b>11.2</b> Configuration</a></li>
<li class="chapter" data-level="11.3" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#csv-output"><i class="fa fa-check"></i><b>11.3</b> CSV Output</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="standalone-generate-quantities.html"><a href="standalone-generate-quantities.html"><i class="fa fa-check"></i><b>12</b> Standalone Generate Quantities</a></li>
<li class="chapter" data-level="13" data-path="diagnosing-hmc-by-comparison-of-gradients.html"><a href="diagnosing-hmc-by-comparison-of-gradients.html"><i class="fa fa-check"></i><b>13</b> Diagnosing HMC by Comparison of Gradients</a></li>
<li><a href="cmdstan-tools.html#cmdstan-tools"><i style='font-size: 110%; color:#990017;'>CmdStan Tools</i></a></li>
<li class="chapter" data-level="14" data-path="stanc.html"><a href="stanc.html"><i class="fa fa-check"></i><b>14</b> <code>stanc</code>: Translating Stan to C++</a>
<ul>
<li class="chapter" data-level="14.1" data-path="stanc.html"><a href="stanc.html#instantiating-the-stanc-binary"><i class="fa fa-check"></i><b>14.1</b> Instantiating the <code>stanc</code> Binary</a></li>
<li class="chapter" data-level="14.2" data-path="stanc.html"><a href="stanc.html#the-stan-compiler-program"><i class="fa fa-check"></i><b>14.2</b> The Stan Compiler Program</a></li>
<li class="chapter" data-level="14.3" data-path="stanc.html"><a href="stanc.html#command-line-options-for-stanc3"><i class="fa fa-check"></i><b>14.3</b> Command-Line Options for stanc3</a></li>
<li class="chapter" data-level="14.4" data-path="stanc.html"><a href="stanc.html#command-line-options-for-stanc2"><i class="fa fa-check"></i><b>14.4</b> Command-Line Options for stanc2</a></li>
<li class="chapter" data-level="14.5" data-path="stanc.html"><a href="stanc.html#using-external-c-code"><i class="fa fa-check"></i><b>14.5</b> Using External C++ Code</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="stansummary.html"><a href="stansummary.html"><i class="fa fa-check"></i><b>15</b> <code>stansummary</code>: MCMC Output Analysis</a>
<ul>
<li class="chapter" data-level="15.1" data-path="stansummary.html"><a href="stansummary.html#building-the-stansummary-command"><i class="fa fa-check"></i><b>15.1</b> Building the stansummary Command</a></li>
<li class="chapter" data-level="15.2" data-path="stansummary.html"><a href="stansummary.html#running-the-stansummary-command"><i class="fa fa-check"></i><b>15.2</b> Running the stansummary Command</a></li>
<li class="chapter" data-level="15.3" data-path="stansummary.html"><a href="stansummary.html#command-line-options"><i class="fa fa-check"></i><b>15.3</b> Command-line Options</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="diagnose.html"><a href="diagnose.html"><i class="fa fa-check"></i><b>16</b> <code>diagnose</code>: Diagnosing Biased Hamiltonian Monte Carlo Inferences</a>
<ul>
<li class="chapter" data-level="16.1" data-path="diagnose.html"><a href="diagnose.html#building-the-diagnose-command"><i class="fa fa-check"></i><b>16.1</b> Building the diagnose Command</a></li>
<li class="chapter" data-level="16.2" data-path="diagnose.html"><a href="diagnose.html#running-the-diagnose-command"><i class="fa fa-check"></i><b>16.2</b> Running the diagnose Command</a></li>
<li class="chapter" data-level="16.3" data-path="diagnose.html"><a href="diagnose.html#diagnose-warnings-and-recommendations"><i class="fa fa-check"></i><b>16.3</b> <code>diagnose</code> Warnings and Recommendations</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="diagnose.html"><a href="diagnose.html#divergent-transitions-after-warmup"><i class="fa fa-check"></i><b>16.3.1</b> Divergent transitions after warmup</a></li>
<li class="chapter" data-level="16.3.2" data-path="diagnose.html"><a href="diagnose.html#maximum-treedepth-exceeded"><i class="fa fa-check"></i><b>16.3.2</b> Maximum treedepth exceeded</a></li>
<li class="chapter" data-level="16.3.3" data-path="diagnose.html"><a href="diagnose.html#low-e-bfmi-values---sampler-transitions-hmc-potential-energy."><i class="fa fa-check"></i><b>16.3.3</b> Low E-BFMI values - sampler transitions HMC potential energy.</a></li>
<li class="chapter" data-level="16.3.4" data-path="diagnose.html"><a href="diagnose.html#low-effective-sample-sizes"><i class="fa fa-check"></i><b>16.3.4</b> Low effective sample sizes</a></li>
<li class="chapter" data-level="16.3.5" data-path="diagnose.html"><a href="diagnose.html#high-hatr"><i class="fa fa-check"></i><b>16.3.5</b> High <span class="math inline">\(\hat{R}\)</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="print-deprecated-mcmc-output-analysis.html"><a href="print-deprecated-mcmc-output-analysis.html"><i class="fa fa-check"></i><b>17</b> <code>print</code> (deprecated): MCMC Output Analysis</a></li>
<li><a href="appendices.html#appendices"><i style='font-size: 110%; color:#990017;'>Appendices</i></a></li>
<li class="chapter" data-level="18" data-path="stan-csv.html"><a href="stan-csv.html"><i class="fa fa-check"></i><b>18</b> Stan CSV File Format</a>
<ul>
<li class="chapter" data-level="18.1" data-path="stan-csv.html"><a href="stan-csv.html#mcmc-sampler-csv-output"><i class="fa fa-check"></i><b>18.1</b> MCMC Sampler CSV Output</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="stan-csv.html"><a href="stan-csv.html#sampler-output"><i class="fa fa-check"></i><b>18.1.1</b> Sampler output</a></li>
<li class="chapter" data-level="18.1.2" data-path="stan-csv.html"><a href="stan-csv.html#diagnostic-file---latent-hamiltonin-plus-gradients"><i class="fa fa-check"></i><b>18.1.2</b> Diagnostic file - latent Hamiltonin plus gradients</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="stan-csv.html"><a href="stan-csv.html#optimization-output"><i class="fa fa-check"></i><b>18.2</b> Optimization Output</a></li>
<li class="chapter" data-level="18.3" data-path="stan-csv.html"><a href="stan-csv.html#variational-inference-output"><i class="fa fa-check"></i><b>18.3</b> Variational Inference Output</a></li>
<li class="chapter" data-level="18.4" data-path="stan-csv.html"><a href="stan-csv.html#generate-quantities-outputs"><i class="fa fa-check"></i><b>18.4</b> Generate Quantities Outputs</a></li>
<li class="chapter" data-level="18.5" data-path="stan-csv.html"><a href="stan-csv.html#diagnose-method-outputs"><i class="fa fa-check"></i><b>18.5</b> Diagnose Method Outputs</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="json.html"><a href="json.html"><i class="fa fa-check"></i><b>19</b> JSON Format for CmdStan</a>
<ul>
<li class="chapter" data-level="19.1" data-path="json.html"><a href="json.html#json-syntax-summary"><i class="fa fa-check"></i><b>19.1</b> JSON Syntax Summary</a></li>
<li class="chapter" data-level="19.2" data-path="json.html"><a href="json.html#stan-data-types-in-json-notation"><i class="fa fa-check"></i><b>19.2</b> Stan Data Types in JSON Notation</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="json.html"><a href="json.html#empty-arrays-in-json"><i class="fa fa-check"></i><b>19.2.1</b> Empty arrays in JSON</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="rdump.html"><a href="rdump.html"><i class="fa fa-check"></i><b>20</b> RDump Format for CmdStan</a>
<ul>
<li class="chapter" data-level="20.1" data-path="rdump.html"><a href="rdump.html#creating-dump-files"><i class="fa fa-check"></i><b>20.1</b> Creating Dump Files</a></li>
<li class="chapter" data-level="20.2" data-path="rdump.html"><a href="rdump.html#scalar-variables"><i class="fa fa-check"></i><b>20.2</b> Scalar Variables</a></li>
<li class="chapter" data-level="20.3" data-path="rdump.html"><a href="rdump.html#sequence-variables"><i class="fa fa-check"></i><b>20.3</b> Sequence Variables</a></li>
<li class="chapter" data-level="20.4" data-path="rdump.html"><a href="rdump.html#array-variables"><i class="fa fa-check"></i><b>20.4</b> Array Variables</a></li>
<li class="chapter" data-level="20.5" data-path="rdump.html"><a href="rdump.html#matrix--and-vector-valued-variables"><i class="fa fa-check"></i><b>20.5</b> Matrix- and Vector-Valued Variables</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="rdump.html"><a href="rdump.html#vector-dump-format"><i class="fa fa-check"></i><b>20.5.1</b> Vector Dump Format</a></li>
<li class="chapter" data-level="20.5.2" data-path="rdump.html"><a href="rdump.html#matrix-dump-format"><i class="fa fa-check"></i><b>20.5.2</b> Matrix Dump Format</a></li>
<li class="chapter" data-level="20.5.3" data-path="rdump.html"><a href="rdump.html#arrays-of-vectors-and-matrices"><i class="fa fa-check"></i><b>20.5.3</b> Arrays of Vectors and Matrices</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="rdump.html"><a href="rdump.html#integer--and-real-valued-variables"><i class="fa fa-check"></i><b>20.6</b> Integer- and Real-Valued Variables</a>
<ul>
<li class="chapter" data-level="20.6.1" data-path="rdump.html"><a href="rdump.html#scientific-notation"><i class="fa fa-check"></i><b>20.6.1</b> Scientific Notation</a></li>
<li class="chapter" data-level="20.6.2" data-path="rdump.html"><a href="rdump.html#infinite-and-not-a-number-values"><i class="fa fa-check"></i><b>20.6.2</b> Infinite and Not-a-Number Values</a></li>
</ul></li>
<li class="chapter" data-level="20.7" data-path="rdump.html"><a href="rdump.html#quoted-variable-names"><i class="fa fa-check"></i><b>20.7</b> Quoted Variable Names</a></li>
<li class="chapter" data-level="20.8" data-path="rdump.html"><a href="rdump.html#line-breaks"><i class="fa fa-check"></i><b>20.8</b> Line Breaks</a></li>
<li class="chapter" data-level="20.9" data-path="rdump.html"><a href="rdump.html#bnf-grammar-for-dump-data"><i class="fa fa-check"></i><b>20.9</b> BNF Grammar for Dump Data</a></li>
</ul></li>
<li><a href="bibliography.html#bibliography"><i style='font-size: 110%; color:#990017;'>Bibliography</i></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CmdStan User’s Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cmdstan-installation" class="section level1">
<h1><span class="header-section-number">1</span> CmdStan Installation</h1>
<p>To install CmdStan you need:</p>
<ul>
<li><p>A modern C++11 compiler. <a href="https://github.com/stan-dev/stan/wiki/Coding-Style-and-Idioms#supported-cpp-versions-and-compilers">Supported versions</a> are <br>
<span class="math inline">\(\tiny\bullet\)</span> Linux: g++ 4.9.3 or clang 6.0 <br>
<span class="math inline">\(\tiny\bullet\)</span> macOS: the XCode version of clang <br>
<span class="math inline">\(\tiny\bullet\)</span> Windows: g++ 8.1 (available with RTools 4.0) is recommended; alternatively, g++ 4.9.3 (available with RTools 3.5).</p></li>
<li><p>The <a href="https://www.gnu.org/software/make/manual/make.html">GNU-Make</a>
utility program or the Windows equivalent <code>mingw32-make</code>.
On macOS, this is part of the XCode command line tools installed via command <code>xcode-select --install</code>.
On Windows, <code>mingw32-make</code> is installed as part of RTools: <a href="https://cran.rstudio.com/bin/windows/Rtools/" class="uri">https://cran.rstudio.com/bin/windows/Rtools/</a>.</p></li>
<li><p>The CmdStan C++ source code and libraries.<br>
The most recent CmdStan release is available as a single compressed tarfile
containing all of the CmdStan tools and the Stan and math libraries from GitHub:
<a href="https://github.com/stan-dev/cmdstan/releases/latest" class="uri">https://github.com/stan-dev/cmdstan/releases/latest</a>
or you can <a href="cmdstan-installation.html#git-clone.section">clone the GitHub repo</a>.</p></li>
</ul>
<p>The CmdStan release unpacks into a directory called <code>cmdstan-&lt;version&gt;</code> where the
version string consists of the major.minor.patch version numbers, e.g. <code>cmdstan-2.23.0</code>.
Cloning CmdStan from GitHub creates a directory simply called <code>cmdstan</code>.
Throughout this manual, we refer to this top-level CmdStan source directory as <strong><code>&lt;cmdstan-home&gt;</code></strong>.</p>
<div id="gnu-make-utility" class="section level2">
<h2><span class="header-section-number">1.1</span> GNU-Make Utility</h2>
<p>CmdStan relies on the GNU-make utility to build both the
Stan model executables and the CmdStan tools.</p>
<p>GNU-Make builds executable programs and libraries from source code by reading files
called Makefiles which specify how to derive the target program.
A Makefile consists of a set of recursive rules where each rule
specifies a target, its dependencies,
and the specific operations required to build the target.
Specifying dependencies for a target provides a way to control
the build process so that targets which depend on other files will
be updated as needed <em>only</em> when there are changes to those other files.
Thus Make provides an efficient way to manage complex software.</p>
<p>The CmdStan Makefile is in the <code>&lt;cmdstan-home&gt;</code> directory
and is named <code>makefile</code>. This is one of the default
<a href="https://www.gnu.org/software/make/manual/html_node/Makefile-Names.html">GNU Makefile names</a>,
which allows you to omit the <code>-f makefile</code> argument to the Make command.
Because the CmdStan Makefile includes several other Makefiles,
<strong>Make only works properly when invoked from the <code>&lt;cmdstan-home&gt;</code> directory</strong>;
attempts to use this Makefile from another directory by specifying the
full path to the file <code>makefile</code> won’t work.
For example, trying to call Make from another directory by specifying
the full path the the makefile results in the following set of error messages:</p>
<pre><code>make -f ~/github/stan-dev/cmdstan/makefile
/Users/mitzi/github/stan-dev/cmdstan/makefile:58: make/stanc: No such file or directory
/Users/mitzi/github/stan-dev/cmdstan/makefile:59: make/program: No such file or directory
/Users/mitzi/github/stan-dev/cmdstan/makefile:60: make/tests: No such file or directory
/Users/mitzi/github/stan-dev/cmdstan/makefile:61: make/command: No such file or directory
make: *** No rule to make target `make/command&#39;.  Stop.</code></pre>
<p>Makefile rules can be written as general pattern rules based on file suffixes.
The Stan makefile rules specify how to process Stan program files with
suffix <code>.stan</code> into executable files.
For example, to compile the Stan program <code>my_program.stan</code> in directory <code>../my_dir/</code>,
the make target is <code>../my_dir/my_program</code> or <code>../my_dir/my_program.exe</code> (on Windows).</p>
<p>Make is invoked with a list of target names.
Makefile targets can be preceded by zero or more Makefile variable name=value pairs.
For example to compile <code>../my_dir/my_program.stan</code> for an OpenCL (GPU) machine,
the makefile variable <code>STAN_OPENCL</code> is set to <code>TRUE</code>:</p>
<pre><code>&gt; make STAN_OPENCL=TRUE ../my_dir/my_program</code></pre>
<p>Makefile variables can also be set by creating a file named <code>local</code> in the
CmdStan <code>make</code> subdirectory which contains a list of <code>&lt;VARIABLE&gt;=&lt;VALUE&gt;</code> pairs,
one per line. The complete set of Makefile variables can be found in file
<code>cmdstan/stan/lib/stan_math/make/compiler_flags</code>.</p>
<p>When invoked without any arguments at all, Make prints a help message:</p>
<pre><code>&gt; make
--------------------------------------------------------------------------------
CmdStan v2.23.0 help

  Build CmdStan utilities:
    &gt; make build

    This target will:
    1. Install the Stan compiler bin/stanc from stanc3 binaries.
    2. Build the print utility bin/print (deprecated; will be removed in v3.0)
    3. Build the stansummary utility bin/stansummary
    4. Build the diagnose utility bin/diagnose
    5. Build all libraries and object files compile and link an executable Stan program

    Note: to build using multiple cores, use the -j option to make, e.g., 
    for 4 cores:
    &gt; make build -j4


  Build a Stan program:

    Given a Stan program at foo/bar.stan, build an executable by typing:
    &gt; make foo/bar

    This target will:
    1. Install the Stan compiler (bin/stanc or bin/stanc2), as needed.
    2. Use the Stan compiler to generate C++ code, foo/bar.hpp.
    3. Compile the C++ code using cc . to generate foo/bar

  Additional make options:
    STANCFLAGS: defaults to &quot;&quot;. These are extra options passed to bin/stanc
      when generating C++ code. If you want to allow undefined functions in the
      Stan program, either add this to make/local or the command line:
          STANCFLAGS = --allow_undefined
    USER_HEADER: when STANCFLAGS has --allow_undefined, this is the name of the
      header file that is included. This defaults to &quot;user_header.hpp&quot; in the
      directory of the Stan program.
    STANC2: When set, use bin/stanc2 to generate C++ code.


  Example - bernoulli model: examples/bernoulli/bernoulli.stan

    1. Build the model:
       &gt; make examples/bernoulli/bernoulli
    2. Run the model:
       &gt; examples/bernoulli/bernoulli sample data file=examples/bernoulli/bernoulli.data.R
    3. Look at the samples:
       &gt; bin/stansummary output.csv


  Clean CmdStan:

    Remove the built CmdStan tools:
    &gt; make clean-all

--------------------------------------------------------------------------------</code></pre>
</div>
<div id="building-cmdstan" class="section level2">
<h2><span class="header-section-number">1.2</span> Building CmdStan</h2>
<p>Building CmdStan involves preparing a set of executable programs
and compiling the command line interface and supporting libraries.
The CmdStan tools are:</p>
<ul>
<li><p><code>stanc</code>: the Stan compiler (translates Stan language to C++).</p></li>
<li><p><code>stansummary</code>: a basic posterior analysis tool.
The <code>stansummary</code> utility processes one or more output files from a run
or set of runs of Stan’s HMC sampler.
For all parameters and quantities of interest in the Stan program,
<code>stansummary</code> reports a set of statistics including mean, standard deviation,
percentiles, effective number of samples, and <span class="math inline">\(\hat{R}\)</span> values.</p></li>
<li><p><code>diagnose</code>: a basic sampler diagnostic tool which checks for indications
that the HMC sampler was unable to sample from the full posterior.</p></li>
</ul>
<p>CmdStan releases include pre-built binaries of the Stan language
compiler :
<code>bin/linux-stanc</code>, <code>bin/mac-stanc</code> and
<code>bin/windows-stanc</code>. The CmdStan makefile <code>build</code> task
copies the appropriate binary to <code>bin/stanc</code>. For CmdStan
installations which have been cloned of downloaded from the CmdStan
GitHub repository, the makefile task will download the appropriate
OS-specific binary from the stanc3 repository’s nightly release.</p>
<p>Steps to build CmdStan:</p>
<ul>
<li><p>Download the latest release from <a href="https://github.com/stan-dev/cmdstan/releases/latest" class="uri">https://github.com/stan-dev/cmdstan/releases/latest</a>
or <a href="cmdstan-installation.html#git-clone.section">clone the GitHub repo</a>.</p></li>
<li><p>Open a command-line terminal window and change directories to the CmdStan home directory.</p></li>
<li><p>Run the makefile target <code>build</code> which instantiates the CmdStan utilities
and compiles all necessary C++ libraries.</p></li>
</ul>
<pre><code>&gt; cd &lt;cmdstan-home&gt;
&gt; make build</code></pre>
<p>If your computer has multiple cores and sufficient ram, the build process
can be parallelized by providing the <code>-j</code> option. For example, to build on 4 cores, type:</p>
<pre><code>&gt; make -j4 build</code></pre>
<p>When <code>make build</code> is successful, the directory <code>&lt;cmdstan-home&gt;/bin/</code>
will contain the executables <code>stanc</code>, <code>stansummary</code>, and <code>diagnose</code> (on Windows, corresponding <code>.exe</code> files)
and the final lines of console output will show the version of CmdStan
that has just been built, e.g.:</p>
<pre><code>--- CmdStan v2.23.0 built ---</code></pre>
<p><strong>Warning:</strong> <em>The Make program may take 10+ minutes and consume 2+ GB of memory to build CmdStan.</em></p>
<p><strong>Windows only:</strong> CmdStan requires that the Intel TBB library,
which is built by the above command, can be found by the Windows system.
This requires that the directory
<code>&lt;cmdstan-home&gt;/stan/lib/stan_math/lib/tbb</code> is part of the
<code>PATH</code> environment variable.
To permanently make this setting for the current user, you may execute:</p>
<pre><code>&gt; mingw32-make install-tbb</code></pre>
<p>After changing the <code>PATH</code> environment variable, you must open an new shell
in order to these setting to take effect.
(This is not necessary on Mac and Linux systems because they can use the
absolute path to the Intel TBB library when linking into Stan programs.)</p>
</div>
<div id="git-clone.section" class="section level2">
<h2><span class="header-section-number">1.3</span> Clone the GitHub CmdStan Repository</h2>
<p>The CmdStan release tarfile contains all source files an libraries needed
to build CmdStan.
The CmdStan GitHub repo contains just the <code>cmdstan</code> module;
the Stan inference engine algorithms and Stan math library functions
are specified as submodules and stored in seperate GitHub repositories.
The CmdStan Makefile task <code>stan-update</code> assembles these submodules
in the proper directory structure.</p>
<p>The following sequence of commands will check out the current
CmdStan <code>develop</code> branch on GitHub and assemble and build the
command line interface and supporting libraries:</p>
<pre><code>&gt; git clone https://github.com/stan-dev/cmdstan.git --recursive
&gt; cd cmdstan
&gt; make build</code></pre>
<p>The resulting set of directories should have the same structure as the release:</p>
<ul>
<li>directory <code>cmdstan/stan</code> contains the sub-module <code>stan</code> (<a href="https://github.com/stan-dev/stan" class="uri">https://github.com/stan-dev/stan</a>)</li>
<li>directory <code>cmdstan/stan/lib/stan_math</code> contains the sub-module <code>math</code> (<a href="https://github.com/stan-dev/math" class="uri">https://github.com/stan-dev/math</a>)</li>
</ul>
</div>
<div id="trouble-shooting-the-installation" class="section level2">
<h2><span class="header-section-number">1.4</span> Trouble-shooting the installation</h2>
<p>To check that the CmdStan installation is complete
and in working order, run the following series of commands:</p>
<pre><code># compile the example
&gt; make examples/bernoulli/bernoulli

# fit to provided data (results of 10 trials, 2 out of 10 successes)
&gt; ./examples/bernoulli/bernoulli sample data file=examples/bernoulli/bernoulli.json.data

# default output written to file `output.csv`,
# default num_samples is 1000, output file should have approx 1050 lines
&gt; ls -l output.csv

# run the `bin/stansummary utility to summarize parameter estimates
&gt; bin/stansummary output.csv</code></pre>
<p>The sample data in file <code>bernoulli.json.data</code> specifies 2 out of 10 successes, therefore
the range <code>mean(theta)</code><span class="math inline">\(\pm\)</span><code>sd(theta)</code> should include 0.2.</p>
<p>Updates to CmdStan or changes in compiler options may result in errors
when trying to compile a Stan program. In some cases, these can be resolved
by removing the existing CmdStan build and recompiling.
The Makefile target <code>clean-all</code> should be run before rebuilding CmdStan:</p>
<pre><code>&gt; make clean-all
&gt; make build</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="quickstart-guide.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="example-model-and-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true,
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
