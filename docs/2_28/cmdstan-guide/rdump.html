<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21 RDump Format for CmdStan | CmdStan User’s Guide</title>
  <meta name="description" content="CmdStan user’s guide." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="21 RDump Format for CmdStan | CmdStan User’s Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/logo-tm.pdf" />
  <meta property="og:description" content="CmdStan user’s guide." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21 RDump Format for CmdStan | CmdStan User’s Guide" />
  
  <meta name="twitter:description" content="CmdStan user’s guide." />
  <meta name="twitter:image" content="/img/logo-tm.pdf" />

<meta name="author" content="Stan Development Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="json.html"/>
<link rel="next" href="using-external-cpp-code.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="stan-manual.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="font-size:110%; font-weight:400; font-family: Verdana, Helvetica, sans; line-height:1.4; margin: 0.5em 0 0 1em"><a href="https://mc-stan.org/docs/cmdstan-guide/index.html" style="color:#4183C4">CmdStan User's Guide</a></li>

<li class="divider"></li>
<li><a href="index.html#introduction"><i style='font-size: 110%; color:#990017;'>Introduction</i></a></li>
<li><a href="quickstart-guide.html#quickstart-guide"><i style='font-size: 110%; color:#990017;'>QuickStart Guide</i></a></li>
<li class="chapter" data-level="1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html"><i class="fa fa-check"></i><b>1</b> CmdStan Installation</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#installation-via-conda"><i class="fa fa-check"></i><b>1.1</b> Installation via <code>conda</code></a></li>
<li class="chapter" data-level="1.2" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#source-installation"><i class="fa fa-check"></i><b>1.2</b> Source installation</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#installing-the-c-toolchain"><i class="fa fa-check"></i><b>1.2.1</b> Installing the C++ toolchain</a></li>
<li class="chapter" data-level="1.2.2" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#gnu-make"><i class="fa fa-check"></i><b>1.2.2</b> GNU-Make utility</a></li>
<li class="chapter" data-level="1.2.3" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#git-clone.section"><i class="fa fa-check"></i><b>1.2.3</b> Clone the GitHub CmdStan repository</a></li>
<li class="chapter" data-level="1.2.4" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#building-cmdstan"><i class="fa fa-check"></i><b>1.2.4</b> Building CmdStan</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#checking-the-stan-compiler"><i class="fa fa-check"></i><b>1.3</b> Checking the Stan compiler</a></li>
<li class="chapter" data-level="1.4" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#troubleshooting-the-installation"><i class="fa fa-check"></i><b>1.4</b> Troubleshooting the installation</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="cmdstan-installation.html"><a href="cmdstan-installation.html#common-problems"><i class="fa fa-check"></i><b>1.4.1</b> Common problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-model-and-data.html"><a href="example-model-and-data.html"><i class="fa fa-check"></i><b>2</b> Example Model and Data</a></li>
<li class="chapter" data-level="3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html"><i class="fa fa-check"></i><b>3</b> Compiling a Stan Program</a>
<ul>
<li class="chapter" data-level="3.1" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#invoking-the-make-utility"><i class="fa fa-check"></i><b>3.1</b> Invoking the Make utility</a></li>
<li class="chapter" data-level="3.2" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#dependencies"><i class="fa fa-check"></i><b>3.2</b> Dependencies</a></li>
<li class="chapter" data-level="3.3" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#compiler-errors"><i class="fa fa-check"></i><b>3.3</b> Compiler errors</a></li>
<li class="chapter" data-level="3.4" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#troubleshooting-c-compiler-or-linker-errors"><i class="fa fa-check"></i><b>3.4</b> Troubleshooting C++ compiler or linker errors</a></li>
<li class="chapter" data-level="3.5" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#c-compilation-and-linking-flags"><i class="fa fa-check"></i><b>3.5</b> C++ compilation and linking flags</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="compiling-a-stan-program.html"><a href="compiling-a-stan-program.html#optimizing-by-ignoring-range-checks"><i class="fa fa-check"></i><b>3.5.1</b> Optimizing by ignoring range checks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mcmc-intro.html"><a href="mcmc-intro.html"><i class="fa fa-check"></i><b>4</b> MCMC Sampling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mcmc-intro.html"><a href="mcmc-intro.html#running-the-sampler"><i class="fa fa-check"></i><b>4.1</b> Running the sampler</a></li>
<li class="chapter" data-level="4.2" data-path="mcmc-intro.html"><a href="mcmc-intro.html#multi-chain-sampling"><i class="fa fa-check"></i><b>4.2</b> Running multiple chains</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="mcmc-intro.html"><a href="mcmc-intro.html#using-the-num_chains-argument-to-run-multiple-chains"><i class="fa fa-check"></i><b>4.2.1</b> Using the num_chains argument to run multiple chains</a></li>
<li class="chapter" data-level="4.2.2" data-path="mcmc-intro.html"><a href="mcmc-intro.html#using-shell-for-running-multiple-chains"><i class="fa fa-check"></i><b>4.2.2</b> Using shell for running multiple chains</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="mcmc-intro.html"><a href="mcmc-intro.html#mcmc_output_csv"><i class="fa fa-check"></i><b>4.3</b> Stan CSV output file</a></li>
<li class="chapter" data-level="4.4" data-path="mcmc-intro.html"><a href="mcmc-intro.html#summarizing-sampler-outputs-with-stansummary"><i class="fa fa-check"></i><b>4.4</b> Summarizing sampler output(s) with <code>stansummary</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>5</b> Optimization</a></li>
<li class="chapter" data-level="6" data-path="variational-inference.html"><a href="variational-inference.html"><i class="fa fa-check"></i><b>6</b> Variational Inference</a></li>
<li class="chapter" data-level="7" data-path="gc-intro.html"><a href="gc-intro.html"><i class="fa fa-check"></i><b>7</b> Generating Quantities of Interest from a Fitted Model</a></li>
<li><a href="reference-manual.html#reference-manual"><i style='font-size: 110%; color:#990017;'>Reference Manual</i></a></li>
<li class="chapter" data-level="8" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html"><i class="fa fa-check"></i><b>8</b> Command-Line Interface Overview</a>
<ul>
<li class="chapter" data-level="8.1" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#input-data-argument"><i class="fa fa-check"></i><b>8.1</b> Input data argument</a></li>
<li class="chapter" data-level="8.2" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#output-control-arguments"><i class="fa fa-check"></i><b>8.2</b> Output control arguments</a></li>
<li class="chapter" data-level="8.3" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#initialize-model-parameters-argument"><i class="fa fa-check"></i><b>8.3</b> Initialize model parameters argument</a></li>
<li class="chapter" data-level="8.4" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#random-number-generator-arguments"><i class="fa fa-check"></i><b>8.4</b> Random number generator arguments</a></li>
<li class="chapter" data-level="8.5" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#chain-identifier-argument-id"><i class="fa fa-check"></i><b>8.5</b> Chain identifier argument: <code>id</code></a></li>
<li class="chapter" data-level="8.6" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#command-line-help"><i class="fa fa-check"></i><b>8.6</b> Command line help</a></li>
<li class="chapter" data-level="8.7" data-path="command-line-interface-overview.html"><a href="command-line-interface-overview.html#error-messages-and-return-codes"><i class="fa fa-check"></i><b>8.7</b> Error messages and return codes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mcmc-config.html"><a href="mcmc-config.html"><i class="fa fa-check"></i><b>9</b> MCMC Sampling using Hamiltonian Monte Carlo</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mcmc-config.html"><a href="mcmc-config.html#iterations"><i class="fa fa-check"></i><b>9.1</b> Iterations</a></li>
<li class="chapter" data-level="9.2" data-path="mcmc-config.html"><a href="mcmc-config.html#adaptation"><i class="fa fa-check"></i><b>9.2</b> Adaptation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="mcmc-config.html"><a href="mcmc-config.html#step-size-optimization-configuration"><i class="fa fa-check"></i><b>9.2.1</b> Step size optimization configuration</a></li>
<li class="chapter" data-level="9.2.2" data-path="mcmc-config.html"><a href="mcmc-config.html#warmup-schedule-configuration"><i class="fa fa-check"></i><b>9.2.2</b> Warmup schedule configuration</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="mcmc-config.html"><a href="mcmc-config.html#algorithm"><i class="fa fa-check"></i><b>9.3</b> Algorithm</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="mcmc-config.html"><a href="mcmc-config.html#samples-from-a-set-of-fixed-parameters"><i class="fa fa-check"></i><b>9.3.1</b> Samples from a set of fixed parameters</a></li>
<li class="chapter" data-level="9.3.2" data-path="mcmc-config.html"><a href="mcmc-config.html#hmc-samplers"><i class="fa fa-check"></i><b>9.3.2</b> HMC samplers</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="mcmc-config.html"><a href="mcmc-config.html#sampler-diag-file"><i class="fa fa-check"></i><b>9.4</b> Sampler diagnostic file</a></li>
<li class="chapter" data-level="9.5" data-path="mcmc-config.html"><a href="mcmc-config.html#examples"><i class="fa fa-check"></i><b>9.5</b> Examples</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="mcmc-config.html"><a href="mcmc-config.html#running-multiple-chains-with-a-specified-rng-seed"><i class="fa fa-check"></i><b>9.5.1</b> Running multiple chains with a specified RNG seed</a></li>
<li class="chapter" data-level="9.5.2" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-default-warmup-and-sampling-iterations"><i class="fa fa-check"></i><b>9.5.2</b> Changing the default warmup and sampling iterations</a></li>
<li class="chapter" data-level="9.5.3" data-path="mcmc-config.html"><a href="mcmc-config.html#saving-warmup-draws"><i class="fa fa-check"></i><b>9.5.3</b> Saving warmup draws</a></li>
<li class="chapter" data-level="9.5.4" data-path="mcmc-config.html"><a href="mcmc-config.html#initializing-parameters"><i class="fa fa-check"></i><b>9.5.4</b> Initializing parameters</a></li>
<li class="chapter" data-level="9.5.5" data-path="mcmc-config.html"><a href="mcmc-config.html#specifying-the-metric-and-stepsize"><i class="fa fa-check"></i><b>9.5.5</b> Specifying the metric and stepsize</a></li>
<li class="chapter" data-level="9.5.6" data-path="mcmc-config.html"><a href="mcmc-config.html#changing-the-nuts-hmc-adaptation-parameters"><i class="fa fa-check"></i><b>9.5.6</b> Changing the NUTS-HMC adaptation parameters</a></li>
<li class="chapter" data-level="9.5.7" data-path="mcmc-config.html"><a href="mcmc-config.html#increasing-the-tree-depth"><i class="fa fa-check"></i><b>9.5.7</b> Increasing the tree-depth</a></li>
<li class="chapter" data-level="9.5.8" data-path="mcmc-config.html"><a href="mcmc-config.html#capturing-hamiltonian-diagnostics-and-gradients"><i class="fa fa-check"></i><b>9.5.8</b> Capturing Hamiltonian diagnostics and gradients</a></li>
<li class="chapter" data-level="9.5.9" data-path="mcmc-config.html"><a href="mcmc-config.html#suppressing-progress-updates-to-the-console"><i class="fa fa-check"></i><b>9.5.9</b> Suppressing progress updates to the console</a></li>
<li class="chapter" data-level="9.5.10" data-path="mcmc-config.html"><a href="mcmc-config.html#everything-example"><i class="fa fa-check"></i><b>9.5.10</b> Everything example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html"><i class="fa fa-check"></i><b>10</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#optimization-algorithms"><i class="fa fa-check"></i><b>10.1</b> Optimization algorithms</a></li>
<li class="chapter" data-level="10.2" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-quasi-newton-optimizers"><i class="fa fa-check"></i><b>10.2</b> The quasi-Newton optimizers</a></li>
<li class="chapter" data-level="10.3" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html#the-newton-optimizer"><i class="fa fa-check"></i><b>10.3</b> The Newton optimizer</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html"><i class="fa fa-check"></i><b>11</b> Variational Inference Algorithm: ADVI</a>
<ul>
<li class="chapter" data-level="11.1" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#variational-algorithms"><i class="fa fa-check"></i><b>11.1</b> Variational algorithms</a></li>
<li class="chapter" data-level="11.2" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#configuration"><i class="fa fa-check"></i><b>11.2</b> Configuration</a></li>
<li class="chapter" data-level="11.3" data-path="variational-inference-algorithm-advi.html"><a href="variational-inference-algorithm-advi.html#csv-output"><i class="fa fa-check"></i><b>11.3</b> CSV output</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="standalone-generate-quantities.html"><a href="standalone-generate-quantities.html"><i class="fa fa-check"></i><b>12</b> Standalone Generate Quantities</a></li>
<li class="chapter" data-level="13" data-path="diagnosing-hmc-by-comparison-of-gradients.html"><a href="diagnosing-hmc-by-comparison-of-gradients.html"><i class="fa fa-check"></i><b>13</b> Diagnosing HMC by Comparison of Gradients</a></li>
<li class="chapter" data-level="14" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>14</b> Parallelization</a>
<ul>
<li class="chapter" data-level="14.1" data-path="parallelization.html"><a href="parallelization.html#multi-threading-with-tbb"><i class="fa fa-check"></i><b>14.1</b> Multi-threading with TBB</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="parallelization.html"><a href="parallelization.html#compiling"><i class="fa fa-check"></i><b>14.1.1</b> Compiling</a></li>
<li class="chapter" data-level="14.1.2" data-path="parallelization.html"><a href="parallelization.html#running"><i class="fa fa-check"></i><b>14.1.2</b> Running</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="parallelization.html"><a href="parallelization.html#multi-processing-with-mpi"><i class="fa fa-check"></i><b>14.2</b> Multi-processing with MPI</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="parallelization.html"><a href="parallelization.html#dependencies-1"><i class="fa fa-check"></i><b>14.2.1</b> Dependencies</a></li>
<li class="chapter" data-level="14.2.2" data-path="parallelization.html"><a href="parallelization.html#compiling-1"><i class="fa fa-check"></i><b>14.2.2</b> Compiling</a></li>
<li class="chapter" data-level="14.2.3" data-path="parallelization.html"><a href="parallelization.html#running-1"><i class="fa fa-check"></i><b>14.2.3</b> Running</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="parallelization.html"><a href="parallelization.html#opencl"><i class="fa fa-check"></i><b>14.3</b> OpenCL</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="parallelization.html"><a href="parallelization.html#dependencies-2"><i class="fa fa-check"></i><b>14.3.1</b> Dependencies</a></li>
<li class="chapter" data-level="14.3.2" data-path="parallelization.html"><a href="parallelization.html#compiling-2"><i class="fa fa-check"></i><b>14.3.2</b> Compiling</a></li>
<li class="chapter" data-level="14.3.3" data-path="parallelization.html"><a href="parallelization.html#running-2"><i class="fa fa-check"></i><b>14.3.3</b> Running</a></li>
</ul></li>
</ul></li>
<li><a href="cmdstan-tools.html#cmdstan-tools"><i style='font-size: 110%; color:#990017;'>CmdStan Tools</i></a></li>
<li class="chapter" data-level="15" data-path="stanc.html"><a href="stanc.html"><i class="fa fa-check"></i><b>15</b> <code>stanc</code>: Translating Stan to C++</a>
<ul>
<li class="chapter" data-level="15.1" data-path="stanc.html"><a href="stanc.html#instantiating-the-stanc-binary"><i class="fa fa-check"></i><b>15.1</b> Instantiating the <code>stanc</code> binary</a></li>
<li class="chapter" data-level="15.2" data-path="stanc.html"><a href="stanc.html#the-stan-compiler-program"><i class="fa fa-check"></i><b>15.2</b> The Stan compiler program</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="stansummary.html"><a href="stansummary.html"><i class="fa fa-check"></i><b>16</b> <code>stansummary</code>: MCMC Output Analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="stansummary.html"><a href="stansummary.html#building-the-stansummary-command"><i class="fa fa-check"></i><b>16.1</b> Building the stansummary command</a></li>
<li class="chapter" data-level="16.2" data-path="stansummary.html"><a href="stansummary.html#running-the-stansummary-program"><i class="fa fa-check"></i><b>16.2</b> Running the <code>stansummary</code> program</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="stansummary.html"><a href="stansummary.html#sampler-parameters"><i class="fa fa-check"></i><b>16.2.1</b> Sampler parameters</a></li>
<li class="chapter" data-level="16.2.2" data-path="stansummary.html"><a href="stansummary.html#model-parameters-and-quantities-of-interest"><i class="fa fa-check"></i><b>16.2.2</b> Model parameters and quantities of interest</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="stansummary.html"><a href="stansummary.html#command-line-options"><i class="fa fa-check"></i><b>16.3</b> Command-line options</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="diagnose.html"><a href="diagnose.html"><i class="fa fa-check"></i><b>17</b> <code>diagnose</code>: Diagnosing Biased Hamiltonian Monte Carlo Inferences</a>
<ul>
<li class="chapter" data-level="17.1" data-path="diagnose.html"><a href="diagnose.html#building-the-diagnose-command"><i class="fa fa-check"></i><b>17.1</b> Building the diagnose command</a></li>
<li class="chapter" data-level="17.2" data-path="diagnose.html"><a href="diagnose.html#running-the-diagnose-command"><i class="fa fa-check"></i><b>17.2</b> Running the diagnose command</a></li>
<li class="chapter" data-level="17.3" data-path="diagnose.html"><a href="diagnose.html#diagnose-warnings-and-recommendations"><i class="fa fa-check"></i><b>17.3</b> <code>diagnose</code> warnings and recommendations</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="diagnose.html"><a href="diagnose.html#divergent-transitions-after-warmup"><i class="fa fa-check"></i><b>17.3.1</b> Divergent transitions after warmup</a></li>
<li class="chapter" data-level="17.3.2" data-path="diagnose.html"><a href="diagnose.html#maximum-treedepth-exceeded"><i class="fa fa-check"></i><b>17.3.2</b> Maximum treedepth exceeded</a></li>
<li class="chapter" data-level="17.3.3" data-path="diagnose.html"><a href="diagnose.html#low-e-bfmi-values---sampler-transitions-hmc-potential-energy."><i class="fa fa-check"></i><b>17.3.3</b> Low E-BFMI values - sampler transitions HMC potential energy.</a></li>
<li class="chapter" data-level="17.3.4" data-path="diagnose.html"><a href="diagnose.html#low-effective-sample-sizes"><i class="fa fa-check"></i><b>17.3.4</b> Low effective sample sizes</a></li>
<li class="chapter" data-level="17.3.5" data-path="diagnose.html"><a href="diagnose.html#high-hatr"><i class="fa fa-check"></i><b>17.3.5</b> High <span class="math inline">\(\hat{R}\)</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="print-deprecated-mcmc-output-analysis.html"><a href="print-deprecated-mcmc-output-analysis.html"><i class="fa fa-check"></i><b>18</b> <code>print</code> (deprecated): MCMC Output Analysis</a></li>
<li><a href="appendices.html#appendices"><i style='font-size: 110%; color:#990017;'>Appendices</i></a></li>
<li class="chapter" data-level="19" data-path="stan_csv.html"><a href="stan_csv.html"><i class="fa fa-check"></i><b>19</b> Stan CSV File Format</a>
<ul>
<li class="chapter" data-level="19.1" data-path="stan_csv.html"><a href="stan_csv.html#csv-column-names-and-order"><i class="fa fa-check"></i><b>19.1</b> CSV column names and order</a></li>
<li class="chapter" data-level="19.2" data-path="stan_csv.html"><a href="stan_csv.html#mcmc-sampler-csv-output"><i class="fa fa-check"></i><b>19.2</b> MCMC sampler CSV output</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="stan_csv.html"><a href="stan_csv.html#sampler-stan-csv-output-file"><i class="fa fa-check"></i><b>19.2.1</b> Sampler Stan CSV output file</a></li>
<li class="chapter" data-level="19.2.2" data-path="stan_csv.html"><a href="stan_csv.html#diagnostic-csv-output-file"><i class="fa fa-check"></i><b>19.2.2</b> Diagnostic CSV output file</a></li>
<li class="chapter" data-level="19.2.3" data-path="stan_csv.html"><a href="stan_csv.html#profiling-csv-output-file"><i class="fa fa-check"></i><b>19.2.3</b> Profiling CSV output file</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="stan_csv.html"><a href="stan_csv.html#optimization-output"><i class="fa fa-check"></i><b>19.3</b> Optimization output</a></li>
<li class="chapter" data-level="19.4" data-path="stan_csv.html"><a href="stan_csv.html#variational-inference-output"><i class="fa fa-check"></i><b>19.4</b> Variational inference output</a></li>
<li class="chapter" data-level="19.5" data-path="stan_csv.html"><a href="stan_csv.html#generate-quantities-outputs"><i class="fa fa-check"></i><b>19.5</b> Generate quantities outputs</a></li>
<li class="chapter" data-level="19.6" data-path="stan_csv.html"><a href="stan_csv.html#diagnose-method-outputs"><i class="fa fa-check"></i><b>19.6</b> Diagnose method outputs</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="json.html"><a href="json.html"><i class="fa fa-check"></i><b>20</b> JSON Format for CmdStan</a>
<ul>
<li class="chapter" data-level="20.1" data-path="json.html"><a href="json.html#creating-json-files"><i class="fa fa-check"></i><b>20.1</b> Creating JSON files</a></li>
<li class="chapter" data-level="20.2" data-path="json.html"><a href="json.html#json-syntax-summary"><i class="fa fa-check"></i><b>20.2</b> JSON syntax summary</a></li>
<li class="chapter" data-level="20.3" data-path="json.html"><a href="json.html#stan-data-types-in-json-notation"><i class="fa fa-check"></i><b>20.3</b> Stan data types in JSON notation</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="json.html"><a href="json.html#empty-arrays-in-json"><i class="fa fa-check"></i><b>20.3.1</b> Empty arrays in JSON</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="rdump.html"><a href="rdump.html"><i class="fa fa-check"></i><b>21</b> RDump Format for CmdStan</a>
<ul>
<li class="chapter" data-level="21.1" data-path="rdump.html"><a href="rdump.html#creating-dump-files"><i class="fa fa-check"></i><b>21.1</b> Creating dump files</a></li>
<li class="chapter" data-level="21.2" data-path="rdump.html"><a href="rdump.html#scalar-variables"><i class="fa fa-check"></i><b>21.2</b> Scalar variables</a></li>
<li class="chapter" data-level="21.3" data-path="rdump.html"><a href="rdump.html#sequence-variables"><i class="fa fa-check"></i><b>21.3</b> Sequence variables</a></li>
<li class="chapter" data-level="21.4" data-path="rdump.html"><a href="rdump.html#array-variables"><i class="fa fa-check"></i><b>21.4</b> Array variables</a></li>
<li class="chapter" data-level="21.5" data-path="rdump.html"><a href="rdump.html#matrix--and-vector-valued-variables"><i class="fa fa-check"></i><b>21.5</b> Matrix- and vector-valued variables</a>
<ul>
<li class="chapter" data-level="21.5.1" data-path="rdump.html"><a href="rdump.html#vector-dump-format"><i class="fa fa-check"></i><b>21.5.1</b> Vector dump format</a></li>
<li class="chapter" data-level="21.5.2" data-path="rdump.html"><a href="rdump.html#matrix-dump-format"><i class="fa fa-check"></i><b>21.5.2</b> Matrix dump format</a></li>
<li class="chapter" data-level="21.5.3" data-path="rdump.html"><a href="rdump.html#arrays-of-vectors-and-matrices"><i class="fa fa-check"></i><b>21.5.3</b> Arrays of vectors and matrices</a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="rdump.html"><a href="rdump.html#integer--and-real-valued-variables"><i class="fa fa-check"></i><b>21.6</b> Integer- and real-valued variables</a>
<ul>
<li class="chapter" data-level="21.6.1" data-path="rdump.html"><a href="rdump.html#scientific-notation"><i class="fa fa-check"></i><b>21.6.1</b> Scientific notation</a></li>
<li class="chapter" data-level="21.6.2" data-path="rdump.html"><a href="rdump.html#infinite-and-not-a-number-values"><i class="fa fa-check"></i><b>21.6.2</b> Infinite and not-a-number values</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="rdump.html"><a href="rdump.html#quoted-variable-names"><i class="fa fa-check"></i><b>21.7</b> Quoted variable names</a></li>
<li class="chapter" data-level="21.8" data-path="rdump.html"><a href="rdump.html#line-breaks"><i class="fa fa-check"></i><b>21.8</b> Line breaks</a></li>
<li class="chapter" data-level="21.9" data-path="rdump.html"><a href="rdump.html#bnf-grammar-for-dump-data"><i class="fa fa-check"></i><b>21.9</b> BNF grammar for dump data</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="using-external-cpp-code.html"><a href="using-external-cpp-code.html"><i class="fa fa-check"></i><b>22</b> Using external C++ code</a></li>
<li><a href="bibliography.html#bibliography"><i style='font-size: 110%; color:#990017;'>Bibliography</i></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CmdStan User’s Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">

<div>
This is an old version, <a href="https://mc-stan.org/docs/cmdstan-guide/rdump.html">view current version</a>.
</div>
<div id="rdump" class="section level1" number="21">
<h1><span class="header-section-number">21</span> RDump Format for CmdStan</h1>
<p><strong>NOTE:</strong> Although the RDump format is still supported, I/O with JSON is faster
and recommended. See the <a href="json.html#json">chapter on JSON</a> for more details.</p>
<p>RDump format can be used to represent values for Stan variables.
This format was introduced in SPLUS and is used in R, JAGS,
and in BUGS (but with a different ordering).</p>
<p>A dump file is structured as a sequence of variable definitions.
Each variable is defined in terms of its dimensionality and its values.
There are three kinds of variable declarations:
- scalars
- sequences
- general arrays</p>
<div id="creating-dump-files" class="section level2" number="21.1">
<h2><span class="header-section-number">21.1</span> Creating dump files</h2>
<p>Dump files can be created from R using RStan,
via the <code>rstan</code> package function <code>stan_rdump</code>.
Stan RDump files must be created via <code>stan_rdump</code> and
not by R’s native <code>dump</code> function because R’s <code>dump</code> function
uses a richer syntax than is supported by the underlying Stan i/o libraries.</p>
</div>
<div id="scalar-variables" class="section level2" number="21.2">
<h2><span class="header-section-number">21.2</span> Scalar variables</h2>
<p>A simple scalar value can be thought of as having an empty list of
dimensions. Its declaration in the dump format follows the SPLUS
assignment syntax. For example, the following would constitute a valid
dump file defining a single scalar variable <code>y</code> with value <span class="math inline">\(17.2\)</span>:</p>
<pre><code>y &lt;- 17.2</code></pre>
</div>
<div id="sequence-variables" class="section level2" number="21.3">
<h2><span class="header-section-number">21.3</span> Sequence variables</h2>
<p>One-dimensional arrays may be specified directly using the SPLUS
sequence notation. The following example defines an integer-value and
a real-valued sequence.</p>
<pre><code>n &lt;- c(1,2,3) y &lt;- c(2.0,3.0,9.7)</code></pre>
<p>Arrays are provided without a declaration of dimensionality because
the reader just counts the number of entries to determine the size of
the array.</p>
<p>Sequence variables may alternatively be represented with R’s
colon-based notation. For instance, the first example above could
equivalently be written as</p>
<pre><code>n &lt;- 1:3</code></pre>
<p>The sequence denoted by <code>1:3</code> is of length <span class="math inline">\(3\)</span>, running from <span class="math inline">\(1\)</span> to <span class="math inline">\(3\)</span>
inclusive. The colon notation allows sequences going from high to low.
The following are equivalent:</p>
<pre><code>n &lt;- 2:-2
n &lt;- c(2,1,0,-1,-2)</code></pre>
<p>As a special case, a sequence of zeros can also be represented in the
dump format by <code>integer(x)</code> and <code>double(x)</code>, for type int
and double, respectively. Here <code>x</code> is a non-negative integer to
specify the length. If <code>x</code> is <span class="math inline">\(0\)</span>, it can be omitted. The
following are some examples.</p>
<pre><code>x1 &lt;- integer()
x2 &lt;- integer(0)
x3 &lt;- integer(2)
y1 &lt;- double()
y2 &lt;- double(0)
y3 &lt;- double(2)</code></pre>
</div>
<div id="array-variables" class="section level2" number="21.4">
<h2><span class="header-section-number">21.4</span> Array variables</h2>
<p>For more than one dimension, the dump format uses a dimensionality
specification. For example, the following
defines a <span class="math inline">\(2 \times 3\)</span> array:</p>
<pre><code>y &lt;- structure(c(1,2,3,4,5,6), .Dim = c(2,3))</code></pre>
<p>Data is stored column-major, thus the values for <code>y</code> will be:</p>
<pre><code>y[1, 1] = 1
y[1, 2] = 3
y[1, 3] = 5
y[2, 1] = 2
y[2, 2] = 4
y[2, 3] = 6</code></pre>
<p>The <code>structure</code> keyword just wraps a sequence of values and a
dimensionality declaration, which is itself just a sequence of
non-negative integer values. The product of the dimensions must equal
the length of the array.</p>
<p>If the values happen to form a contiguous sequence of integers, they
may be written with colon notation. Thus the example above is
equivalent to the following.</p>
<pre><code>y &lt;- structure(1:6, .Dim = c(2,3))</code></pre>
<p>Sequence notation can be used within any call to the generic <code>c()</code> function in R.
In the above example, c(2,3) could be written as <code>c(2:3)</code>.</p>
<p>The generalization of column-major indexing is last-index major indexing.
Arrays of more than two dimensions are written in a last-index major
form. For example,</p>
<pre><code>z &lt;- structure(1:24, .Dim = c(2,3,4))</code></pre>
<p>produces a three-dimensional <code>int</code> (assignable to <code>real</code>) array <code>z</code> with values:</p>
<pre><code>z[1, 1, 1] = 1
z[2, 1, 1] = 2
z[1, 2, 1] = 3
z[2, 2, 1] = 4
z[1, 3, 1] = 5
z[2, 3, 1] = 6
z[1, 1, 2] = 7
z[2, 1, 2] = 8
z[1, 2, 2] = 9
z[2, 2, 2] = 10
z[1, 3, 2] = 11
z[2, 3, 2] = 12
z[1, 1, 3] = 13
z[2, 1, 3] = 14
z[1, 2, 3] = 15
z[2, 2, 3] = 16
z[1, 3, 3] = 17
z[2, 3, 3] = 18
z[1, 1, 4] = 19
z[2, 1, 4] = 20
z[1, 2, 4] = 21
z[2, 2, 4] = 22
z[1, 3, 4] = 23
z[2, 3, 4] = 24</code></pre>
<p>If the underlying 3-D array is stored as a 1-D array in last-index major format,
the innermost array elements will be contiguous.</p>
<p>The sequence of values inside <code>structure</code> can also be
<code>integer(x)</code> or <code>double(x)</code>. In particular, if one or more
dimensions is zero, <code>integer()</code> can be put inside
<code>structure</code>. For instance, the following example is supported by
the dump format.</p>
<pre><code>y &lt;- structure(integer(), .Dim = c(2,0))</code></pre>
</div>
<div id="matrix--and-vector-valued-variables" class="section level2" number="21.5">
<h2><span class="header-section-number">21.5</span> Matrix- and vector-valued variables</h2>
<p>The dump format for matrices and vectors, including arrays of matrices
and vectors, is the same as that for arrays of the same shape.</p>
<div id="vector-dump-format" class="section level3" number="21.5.1">
<h3><span class="header-section-number">21.5.1</span> Vector dump format</h3>
<p>The following three declarations have the same dump format for their
data.</p>
<pre><code>array[K] real a;
vector[K] b;
row_vector[K] c;</code></pre>
</div>
<div id="matrix-dump-format" class="section level3" number="21.5.2">
<h3><span class="header-section-number">21.5.2</span> Matrix dump format</h3>
<p>The following declarations have the same dump format.</p>
<pre><code>array[M, N] real a;
matrix[M, N] b;</code></pre>
</div>
<div id="arrays-of-vectors-and-matrices" class="section level3" number="21.5.3">
<h3><span class="header-section-number">21.5.3</span> Arrays of vectors and matrices</h3>
<p>The key to understanding arrays is that the array indexing comes before
any of the container indexing. That is, an array of vectors is just
that: each array element is a vector.
See the chapter on array and matrix types in the user’s guide section
of the language manual for more information.</p>
<p>For the dump data format, the following declarations have the same
arrangement.</p>
<pre><code>array[M, N] real a;
matrix[M, N] b;
array[M] vector[N] c;
array[M] row_vector[N] d;</code></pre>
<p>Similarly, the following also have the same dump format.</p>
<pre><code>array[P, M, N] real a;
array[P] matrix[M, N] b;
array[P, M] vector[N] c;
array[P, M] row_vector[N] d;</code></pre>
</div>
</div>
<div id="integer--and-real-valued-variables" class="section level2" number="21.6">
<h2><span class="header-section-number">21.6</span> Integer- and real-valued variables</h2>
<p>There is no declaration in a dump file that distinguishes integer
versus continuous values. If a value in a dump file’s definition of a
variable contains a decimal point (e.g., <span class="math inline">\(132.3\)</span>) or uses
scientific notation (e.g., <span class="math inline">\(1.323e2\)</span>),
Stan assumes that the values are real.</p>
<p>For a single value, if there is no decimal point, it may be assigned
to an <code>int</code> or <code>real</code> variable in Stan. An array value may
only be assigned to an <code>int</code> array if there is no decimal point
or scientific notation in any of the values. This convention is
compatible with the way R writes data.</p>
<p>The following dump file declares an integer value for <code>y</code>.</p>
<pre><code>y &lt;- 2</code></pre>
<p>This definition can be used for a Stan variable <code>y</code> declared as
<code>real</code> or as <code>int</code>. Assigning an integer value to a real
variable automatically promotes the integer value to a real value.</p>
<p>Integer values may optionally be followed by <code>L</code> or <code>l</code>,
denoting long integer values. The following example, where the type is
explicit, is equivalent to the above.</p>
<pre><code>y &lt;- 2L</code></pre>
<p>The following dump file provides a real value for <code>y</code>.</p>
<pre><code>y &lt;- 2.0</code></pre>
<p>Even though this is a round value, the occurrence of the decimal point
in the value, <span class="math inline">\(2.0\)</span>, causes Stan to infer that <code>y</code> is real
valued. This dump file may only be used for variables <code>y</code>
declared as real in Stan.</p>
<div id="scientific-notation" class="section level3" number="21.6.1">
<h3><span class="header-section-number">21.6.1</span> Scientific notation</h3>
<p>Numbers written in scientific notation may only be used for real
values in Stan. R will write out the integer one million as
<span class="math inline">\(1e+06\)</span>.</p>
</div>
<div id="infinite-and-not-a-number-values" class="section level3" number="21.6.2">
<h3><span class="header-section-number">21.6.2</span> Infinite and not-a-number values</h3>
<p>Stan’s reader supports infinite and not-a-number values for scalar
quantities (see the section of the reference manual section of the
language manual for more information on Stan’s numerical data types).
Both infinite and not-a-number values are supported by Stan’s
dump-format readers.</p>
<table>
<thead>
<tr class="header">
<th align="right">Value</th>
<th align="left">Preferred Form</th>
<th align="left">Alternative Forms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">positive infinity</td>
<td align="left">Inf</td>
<td align="left">Infinity, infinity</td>
</tr>
<tr class="even">
<td align="right">negative infinity</td>
<td align="left">-Inf</td>
<td align="left">-Infinity, -infinity</td>
</tr>
<tr class="odd">
<td align="right">not a number</td>
<td align="left">NaN</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>These strings are not case sensitive, so <code>inf</code> may also be used
for positive infinity, or <code>NAN</code> for not-a-number.</p>
</div>
</div>
<div id="quoted-variable-names" class="section level2" number="21.7">
<h2><span class="header-section-number">21.7</span> Quoted variable names</h2>
<p>In order to support JAGS data files, variables may be double quoted.
For instance, the following definition is legal in a dump file.</p>
<pre><code>&quot;y&quot; &lt;- c(1,2,3) \end{Verbatim}</code></pre>
</div>
<div id="line-breaks" class="section level2" number="21.8">
<h2><span class="header-section-number">21.8</span> Line breaks</h2>
<p>The line breaks in a dump file are required to be consistent with the
way R reads in data. Both of the following declarations are legal.</p>
<pre><code>y &lt;- 2
y &lt;-
3</code></pre>
<p>Also following R, breaking before the assignment arrow are not
allowed, so the following is invalid.</p>
<pre><code>y
&lt;- 2 # Syntax Error</code></pre>
<p>Lines may also be broken in the middle of sequences declared using the
<code>c(...)</code> notation., as well as between the comma following a
sequence definition and the dimensionality declaration. For example,
the following declaration of a <span class="math inline">\(2 \times 2 \times 3\)</span> array is valid.</p>
<pre><code>y &lt;-
structure(c(1,2,3,
4,5,6,7,8,9,10,11,
12), .Dim = c(2,2,
3))</code></pre>
<p>Because there are no decimal points in the values, the resulting dump
file may be used for three-dimensional array variables declared as
<code>int</code> or <code>real</code>.</p>
</div>
<div id="bnf-grammar-for-dump-data" class="section level2" number="21.9">
<h2><span class="header-section-number">21.9</span> BNF grammar for dump data</h2>
<p>A more precise definition of the dump data format is provided by the
following (mildly templated) Backus-Naur form grammar.</p>
<pre><code>definition ::= name &lt;- value optional_semicolon

name ::= char*     | &#39;&#39;&#39; char* &#39;&#39;&#39;     | &#39;&quot;&#39; char* &#39;&quot;&#39;

value ::= value&lt;int&gt; | value&lt;double&gt;

value&lt;T&gt; ::= T       | seq&lt;T&gt;       | zero_array&lt;T&gt;       |
&#39;structure&#39; &#39;(&#39; seq&lt;T&gt; &#39;,&#39; &quot;.Dim&quot; &#39;=&#39; seq&lt;int&gt; &#39;)&#39;       | &#39;structure&#39;
&#39;(&#39; zero_array&lt;T&gt; &#39;,&#39; &quot;.Dim&quot; &#39;=&#39; seq&lt;int&gt; &#39;)&#39;

seq&lt;int&gt; ::= int &#39;:&#39; int       | cseq&lt;int&gt;

zero_array&lt;int&gt; ::= &quot;integer&quot; &#39;(&#39; &lt;non-negative int&gt;? &#39;)&#39;

zero_array&lt;real&gt; ::= &quot;double&quot; &#39;(&#39; &lt;non-negative int&gt;? &#39;)&#39;

seq&lt;real&gt; ::= cseq&lt;real&gt;

cseq&lt;T&gt; ::= &#39;c&#39; &#39;(&#39; vseq&lt;T&gt; &#39;)&#39;

vseq&lt;T&gt; ::= T      | T &#39;,&#39; vseq&lt;T&gt;</code></pre>
<p>The template parameters <code>T</code> will be set to either <code>int</code> or <code>real</code>.
Because Stan allows promotion of integer values to real values, an
integer sequence specification in the dump data format may be assigned
to either an integer- or real-based variable in Stan.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="json.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-external-cpp-code.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
